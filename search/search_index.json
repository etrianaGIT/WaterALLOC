{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Welcome to the WaterALLOC User Connection Water Resources Modeling Management System The original objective of this project was to develop a MODSIM-based Water Allocation Module (WaterALLOC) to be used in conjunction with the Hydro-BID modeling system, using the river basin simulation capabilities from MODSIM to enhance our river basin planning and management offerings. The new module will allow using the hydrologic processes simulated in Hydro-BID and import them directly into MODSIM to perform simulation of water allocation and system operations, based on water use priorities, water rights, water permits, storage operation rules, and administrative and social constraints. The new robust modeling platform will strengthen RTI\u2019s river basin management offerings, including streamlined data management between the models, ability to simulate responses and alternatives in complex systems, evaluate water availability including priorities and operations, and evaluate impacts of climate change and benefits of adaptation measures. Welcome to the WaterALLOC User Connection Water Resources Modeling Management System Main Sections Introduction WaterALLOC Approach WaterALLOC Key Features WaterALLOC Development WaterALLOC Software Installation HydroBID and MODSIM Modeling Tools HydroBID AHD COMID AHD Flow Table Database Hydrologic Model Climate Data Interpolation Tool Outputs Calibration Parameters Settings File MODSIM Network Flow Optimization Data-driven Model Long-term Planning to Real-time Operations Complex River Basin Configurations Reservoir Operations and Hydropower Generation Conjunctive Use Water Rights and Storage Contracts Customized MODSIM Features and Functionalities WaterALLOC GUI HydroBID Simulation HydroBID folder Set inflow points HydroBID simulation Create MODSIM network Import HydroBID output MODSIM Module Creating MODSIM Networks Using a Shapefile Set MODSIM elements Set priorities Run MODSIM Hydro-economics Module Agricultural sector Municipal sector Hydropower sector Cost-benefit analysis Operation Optimization Module Scenarios Management Output Visualization References Help & FAQ Contact US Project Database Main Sections Introduction Getting started Create a new project Extensions and Modules Working with modules General setting and options Working with HydroBID Working with MODSIM Hydro-Economic Module GSFLow Module Introduction Description of what is WaterALLOC and motivation for its development. Mutual complement of HydroBID and MODSIM WaterALLOC is a modeling management system that provides a new geographic information system (GIS)-based interface that streamline the data processing between HydroBID and MODSIM models, offering a solution to perform water availability analysis, including river and reservoir operations with simulation of water permits and priorities, using all the river operations tools and customization provided by MODSIM. WaterALLOC was created to enhance the user experience for both, HydroBID and MODSIM users, allowing the HydroBID user to use the GIS interface to run the system and adding easy-to-use input dialogs for agricultural and municipal demands for MODSIM. Additionally, his tool creates the MODSIM simulation network automatically from the Analytical Hydrology Dataset ( AHD ) network built for HydroBID, using the catchments and streams to define the links and nodes of the MODSIM network. WaterALLOC links the results of local runoff from HydroBID to the entry nodes of MODSIM to simulate the routing of the flows in the streams of a basin. Georeferenced demand nodes can be created within the WaterALLOC interface to simulate water intake and consumption according to water availability at different points of the basin and in accordance with the permits, priorities, and physical and hydraulic limitations of the system. Also, WaterALLOC allows the creation and simulation of operation of reservoir systems, simulating water supply and power generation operations. The new robust modeling platform offers a streamlined solution for data management between the models, the ability to perform comprehensive water balance analysis that includes water infrastructure operation rules, water allocation priorities, and administrative and social constraints. Additionally, the platform supports scenario management allowing the simulation and analysis of dynamic changes to land cover, water demands, population, surface and groundwater interactions, and climate. WaterALLOC Approach Provide a comparison table of the features, applications (from poster) WaterALLOC builds upon two existing modeling tools, HydroBID and MODSIM with the purpose of enhancing the ability and effectiveness in providing streamlined and comprehensive solutions for water resources management around the world. WaterALLOC brings together the hydrologic simulation capabilities from HydroBID and the river basin simulation capabilities from MODSIM to support water resources planning and management. HydroBID MODSIM Function Rainfall-runoff processes modeling River basin operation and planning modeling Description Highly scalable rainfall-runoff modeling system model based on the generalized Watershed Loading Factor (GWLF) formulation to estimate the availability of surface water (stream flows) at the regional, basin, and sub-basin scales. Generic river basin management decision-support system capable of simulating complex, large-scale surface water networks; excels in the area of administering water in systems governed by water rights, administrative constraints, and agreements. Features Includes the Analytical Hydrography Dataset for Latin America and the Caribbean (LAC AHD), a digital representation of more than 300,000 catchments with their corresponding topography, river, and stream segments Includes a GIS-based catchments and streams navigation tool Provides a climate data interpolation interface to obtain rainfall and temperature inputs for the area and period of interest Includes a routing scheme for quantifying time of travel and cumulative flow estimates Additional modules: Simulates the effect of climate change Simulate the effect of reservoirs on downstream flows Link with MODFLOW groundwater models to incorporate water exchanges between groundwater and surface water Model sediment loads using Modified Universal Soil Loss Equations Uses linear-network structure and optimization as an efficient technique to operate the system and allocate water Performs water allocation based on priorities or water rights Includes features for reservoirs operation Allows simulation of stream-aquifer interaction and operations impacts Includes customizable pre-processing, execution, and post processing Distribution Publicly available Publicly available Developer RTI International Colorado State University WaterALLOC Key Features Provides a GIS interface to visualize the catchments, streamlines, MODSIM network and results Uses the AHD geo-spatial features to create the MODSIM network Allows a full map of the stream network or a simplified network Allows launch and run HydroBID and MODSIM from the same interface Allows to perform watershed analysis (similar to the AHD Navigation Tool in QGIS) Imports the output from HydroBID into the MODSIM network Prepares the MODSIM network with HydroBID settings for a ready to run model Allows visualizing the HydroBID output spatially in the map Allows access to the MODSIM objects, functionalities, and outputs Allows creating new features to complete the water allocation analysis (demands and reservoirs) Provides statistical metrics and graphs to calibrate the model Provides a hydro-economic module to conduct cost-benefit analysis Provides a scenario management structure to address \u201cwhat if\u201d questions and develop and compare scenarios with different assumptions WaterALLOC Development RTI has provided primary support for WaterALLOC development. Provide brief description of projects where WaterALLOC has been applied. Since 2017, RTI has provided primary support for WaterALLOC development through Independent Research and Development (IR&D) Projects. Also, client-driven improvement and software customization has been conducted on project-based cases funded by the Inter-American Development Bank (IDB). Since its initial development, WaterALLOC has been applied successfully in several countries in the Latin American and Caribbean Region (LAC) to simulate complex hydrological systems, to support long-term planning, and provide a framework for integrated water resources management. Year Country Client Status Description 2018 Peru IDB Invest/ Danper S.A.C. Completed Assess water optimization activities for the Peruvian agro-industry company Danper S.A.C. located in Trujillo, Peru. Develop a water balance model to simulate the water supply and demand in the basins where Danper\u2019s agricultural and industrial productions are located. Assess impact on the water balance considering water demand and climate variability to better understand the risk and vulnerability associated with Danper\u2019s operations in the context of climate change. Provide a cost-benefit analysis on alternative technologies that can help mitigate water shortages and optimize the use of water. Identify green infrastructure measures focused on water collection and water storage that could be implemented in areas facing water security issues. 2018 Chile IDB/Fundaci\u00f3n Chile Completed Evaluate the impact of climate change on future water balance for the Maule basin. 2019 Brazil IDB/ ADASA/ANA/ CAESB/SEAGRI Completed Support the analysis of water supply planning for the Federal District (FD) by understanding and reducing its vulnerability to severe droughts, and by increasing the efficiency in the allocation of available water resources among different competing users, while providing a decision support tool for water resources management and water allocation. Illustrate the application of hydro-economic tools for determining efficient resource allocation and analyzing tradeoffs among competing water uses in a selected study area. 2020 Honduras IDB/ UGASAM- SANAA/ENEE Completed Analyze the current and future conditions of water availability and scarcity for the city of Tegucigalpa in Honduras in a context of climate change, and to analyze potential water sources and different management strategies to reduce the current water deficit that faces the capital city. 2020 Peru IDB/SEDAPAL Ongoing Support the development of a system for the planning and integrated management of the basins that supply water to the Metropolitan Area of Lima (AML), which will seek to minimize the environmental, economic, and social impacts due to drought events. 2020 Colombia IDB Ongoing Develop technical capacities and apply HydroBID and WaterALLOC management tools to support the formulation of Water Safety Plans for four water utilities under the IDB\u2019s COMPASS program. 2020 Chile IDB Ongoing Support the development of a Drought Management Plan (DMP) for the Maipo basin that will pursue to minimize the environmental, economic, and social impacts of drought episodes. 2021 El Salvador IDB Coming soon WaterALLOC Software Installation Explanation of the installation files and license agreement. WaterALLOC is distributed at no cost to our clients. To install WaterALLOC, copy the installation files into a folder and run the installer by double clicking the setup.exe file and then click on Install in the prompt window. When installation has completed successfully, you can open the program by searching for WaterALLOC in the Start menu of Windows and then clicking on the program icon . RTI provides a free license to use the software for non-commercial purposes. The license is granted for 30 days and it is automatically renewed with an Internet connection every 30 days. WaterALLOC runs in Microsoft Windows computers with a minimum of XX RAM capacity and an Internet connection is not required. Note: Although it is not required to install MODSIM in your computer, several versions of MODSIM are also distributed within the program installation files. Having MODSIM installed can be useful for editing complex networks. HydroBID and MODSIM Modeling Tools Provide brief description of HydroBID and MODSIM and include links to documentation. To get started, we suggest getting familiarized with some key concepts about HydroBID and MODSIM: HydroBID AHD COMID Land use and soil type default databases CDIT Calibration parameters Settings file The HydroBID modeling system for quantitative simulation of hydrology and climate change has three primary components: the Analytical Hydrography Dataset (AHD) , the database , and the hydrologic model . AHD The AHD is a digital representation of catchment boundaries and stream segments for the entire LAC region, containing over 300,000 catchments with an average size of 83 km 2 for South America and 23 km 2 for Central America and the Caribbean. The AHD is a regional platform of spatial data used to integrate the disparate data needed to support hydrologic modeling. It provides a framework for consistently parameterizing models, provides the necessary river network connectivity, and stores the data necessary for displaying results in a GIS format. COMID Each of the catchments and stream segments delineated in the AHD has a unique identifier number known as COMID , which allows to quickly identify the basins and rivers that drain at a certain point within the extension of the AHD (Add Reference to Technical Note 1). AHD Flow Table HydroBID includes a table containing the upstream/downstream relationship between each stream or each catchment. The table with this information is the AHD flow table (AHDFlow.dbf). This table allows the navigation of the AHD using GIS tools. Database The database contains information associated with each catchment, including drainage area, stream length, slope, land uses, and soil types. Additionally, each catchment in the AHD is parametrized with land use and soil type data from global datasets. The land cover data is based on the U.S. Geological Survey (USGS) Global Land Characterization and the soil type data is based on the Harmonized World Soil Database (HWSD) supported by the International Institute for Applied Systems Analysis (IIASA) and the Food and Agriculture Organization (FAO). The catchment\u2019s soil and land cover conditions determine the Curve Number (CN) and the hydrologic soil group that the model uses to calculate runoff. All the input data for HydroBID is stored in a single SQLite database. Hydrologic Model The hydrologic model is an enhanced version of the rainfall-runoff Generalized Watershed Loading Function (GWLF) model (Haith and Shoemaker, 1987), coupled with a novel lag-routing methodology developed by RTI (Moreda et al., 2014). The model computes runoff and baseflow by catchment. The GWLF estimates runoff using the U.S. Soil Conservation Service\u2019s curve number (CN) method. Catchment CNs are stored in the database and are determined by the watershed\u2019s combination of soil and land cover conditions, which are represented as hydrologic soil groups, cover type, treatment, and hydrologic condition. After runoff estimates, excess precipitation infiltrates to the unsaturated layer where it is subject to evaporation. Over time, the infiltrated water percolates from the unsaturated layer downward to replenish the saturated storage. Water within the saturated layer enters the stream channel as baseflow where it combines with runoff from the catchment and any inflows from the upstream catchments to provide the stream flow volume, which is then routed through the stream network defined by the AHD (Add Reference to Technical Note 2). Climate Data Interpolation Tool A preprocessor referred to as the Climate Data Interpolation Tool ( CDIT ), built into the HydroBID modeling system, automates spatial interpolation of daily temperature and precipitation time series between stations. The tool uses the Inverse Distance Weighting (IDW) method to interpolate climate data at the centroid of each catchment. Outputs HydroBID can simulate stream flows in unimpaired watersheds for historic, current, and future conditions based on land use, precipitation, and temperature inputs. Model outputs of predicted streamflow are saved in readily usable, comma separated value (.csv) format, at either a daily or monthly time step. The system has a graphical user interface (GUI) to facilitate loading and processing of model input, as well as to display both graphical and tabulated model output. The hydrologic model utilizes the data structure and the catchment and stream network topologies of the AHD to generate flow estimates at the outlet of any catchment or basin selected by the user. In addition to flow generation, HydroBID includes other modules for 1) reservoir simulation, 2) sediment transport, and 3) surface and groundwater interactions using MODFLOW. Calibration Parameters HydroBID contains several calibration parameters that are used to adapt the model and optimize its performance simulating observed streamflows. HydroBID provides default values for some of the hydrologic parameters in the database. For instance, the database contains values for the CN and for AWC in the vadose zone. However, these parameters need to be calibrated to historical streamflow measurements by modifying a factor that multiplies the values already contained in the database. For other parameters, such as the recession (r) and seepage (s) coefficients, the user needs to enter the initial values that will be applied uniformly to all catchments within the simulated area. Settings File HydroBID saves all the setting parameters provided in the GUI into a text file (.txt). This setting file allows an identical re-run of the model at any time in the future. When open HydroBID, the GUI will be automatically populated with the values in the setting file, and all required data for a model run will be obtained from the current folder. MODSIM Describe the elements in MODSIM network (types of nodes, links) and Priorities. MODSIM, developed by the Colorado State University, is a decision-making support system that uses optimization in a stream network to help watershed managers with the analysis of water supply in the face of hydrological uncertainty and demand growth ( http://modsim.engr.colostate.edu/ ). As a decision support system, MODSIM is designed for developing improved strategies for short-term water management, long-term operational planning, drought contingency planning, water rights analysis and water allocation between urban, agricultural, and environmental sectors (Labadie, 2012). The model uses the concept of flow networks to efficiently simulate complex water systems at river basin scale. One of the advantages of MODSIM is that it can be customized for any unique basin management conditions, specialized operating rules, input data, output reports, and access to external models running concurrently with MODSIM, all without having to modify the original MODSIM source code. In addition, RTI holds a collaboration agreement to support the maintenance and development of MODSIM and provide our clients with enhanced and long-term support. Below are some of the key MODSIM capabilities. Labadie, 2012 has a complete list of the software capabilities. Network Flow Optimization The basic solver in MODSIM is a state-of-the-art network flow optimization algorithm that is more than an order of magnitude faster than solvers currently in use in other river basin modeling packages and capable of modeling extremely large-scale networks. The optimization of stream network provides an efficient way assuring allocation of flow in accordance with specified rights and priorities. Data-driven Model MODSIM maintains complete reliance on user input data and specifications for describing system features, operational requirements, and priorities, which are separated from the network modeling algorithmic structure. No a priori defined operating policies or priorities hardwired into MODSIM. Long-term Planning to Real-time Operations MODSIM is applicable to long term planning (monthly), medium term management (weekly), and short term operations (daily) in river systems. Complex River Basin Configurations Complex network topologies can be constructed, including looped and bifurcating flow paths. Network topology is graphically created by simple point and click actions on the GUI palette. In addition, georeferenced network topologies can be loaded into MODSIM from a geographic information system (GIS). Reservoir Operations and Hydropower Generation Reservoir balancing routines are included, allowing division of reservoir storage into several operational zones for controlling the spatial distribution of available storage in a river basin. Hydropower generation capacity and energy production is based on power plant efficiencies varying with discharge and head. Energy production calculations are performed, with consideration of tailwater effects and head-dependent hydraulic capacity restrictions on reservoir discharge. Conjunctive Use MODSIM includes modeling capabilities for conjunctive use of surface water and groundwater and simulation of stream-aquifer interactions. A stream aquifer model based on the USGS sdf approach is included, as well possible linkage with external groundwater models. Water Rights and Storage Contracts MODSIM is capable of directly incorporating institutional structures governing water allocation under direct flow or natural streamflow rights and seasonal storage rights and contracts, including provisions for allocating water according to specified priorities based on current river basin conditions Customized MODSIM Users are provided access to all key variables and object classes in MODSIM, thereby allowing customization for any complex river basin operational and modeling constructs without the need for reprogramming and recompiling the MODSIM source code. Custom code can be developed for defining complex operating rules and policies, executing external modules such as water quality models, input of specialized data sets for particular applications, preparing customized model output and reports, and linking MODSIM with database management systems to provide access to timely data and forecast information for real-time river basin management. The physical water resource systems are represented as a network of nodes, both storage (i.e., reservoirs) and non-storage (i.e., stream confluences, diversion points, ad demand locations), and links (i.e., canals, natural river reaches). Features and Functionalities WaterALLOC GUI Provide description of: Main menu, Toolbar options, Map window, Legend, Configuration settings, Coordinate scaling, Log messages, Scenario analysis tree, Data entry dialogs, Results windows. The WaterALLOC interface consist of a map window to visualize the physical features of the study area and the MODSIM network elements; a main menu at the top, providing access to HydroBID and MODSIM functionalities; a toolbar menu that provides one-click access to various GIS and other program functions; a log messages window that records all the actions performed by the user and also shows error messages; a configuration settings window that is used to set the configurations of a WaterALLOC project and allows access to scenario management and view; and a layer explorer panel shown in the left side of the interface that allows to hide/show all layers available and to customize their properties. Main Menu: The main menu provides access to the most important functions of WaterALLOC. File: Allows to create a new WaterALLOC project, open an existing project, and save changes made to a project. Options : Allows to switch between English and Spanish languages and to activate WaterALLOC modules, such as the hydro-economic module . View : Allows to activate the different windows of the WaterALLOC interface. HydroBID : Allows to access the HydroBID simulation to set the configurations of the model run (i.e., sqlite, climate data, observed streamflow files, calibration parameters, etc.) and view the results. Also, allows access to the create MODSIM network and import HydroBID output windows. MODSIM : Allows access to MODSIM network settings and to run the model. Tools : Allows to import a layer from a comma separated value (.csv) file. About : Includes the license agreement and the WaterALLOC version. Toolbar Menu: The toolbar menu provides access to some GIS functions and MODSIM available elements. This Icon Is Used to: Add layers to the map Move the map to progressively display adjacent areas Select objects displayed in the map window. To select an object, make sure to select the layer in the Layer Explorer Panel on the left. Zoom in the map Zoom out the map Zoom to the previous extent Zoom to the next extent Zoom to maximum extent Zoom to coordinates Identifies features of the selected object in the map Show the attribute table of selected layer. Also allows to query the selection of features Select label Enable/disable basemap Select local inflows Enable/disable MODSIM layers Demand Node. Add consumptive demands (i.e., agricultural, domestic, groundwater pumping). Demand nodes can also be added by importing a shapefile or a .csv file Reservoir Node. Add reservoirs for modeling reservoir storage operations and hydropower generation Nonstorage Node. Simulate catchment runoff, which are imported from the outputs of HydroBID. Add tributary inflows, water transfers, groundwater return flows Sink Node. Basin outlet Link. Add maximum and minimum flow, stream channel losses Remove MODSIM nodes and links Stop editing mode Configuration Settings Window: The settings window provides the absolute or relative paths to the configuration files of a WaterALLOC project and scenarios. It is divided in three main tabs: General tab shows the absolute path to the workspace and allows to select the flowline layer. Hydro-BID tab shows the relative paths to the HydroBID .jar (executable) file, the AHD Flow table , and to the settings file . Note : When creating a WaterALLOC project (.waprj), a HydroBID folder is automatically created in the same workspace, which includes HydroBID executables and a WALLOCFiles subfolder that organizes outputs files of HydroBID runs for different scenarios. Also, a folder for the Default scenario and its respective settings file is automatically created. MODSIM tab allows access to an existing MODSIM network file or allows to create a new .xy file. It also allows to modify the coordinate scaling factors, which are used to adjust the MODSIM network to the GIS interface. The configuration settings window also allows to hide/show the scenarios management panel. See Section 6 for more information about the scenario management. Layer Explorer Panel: All layers added to a WaterALLOC project will be displayed in the layer panel on the left. The panel helps manage the display order of map layers and their symbology and set other properties of each map layer. Layers listed at the top are displayed first, followed by the layers below them. A layer\u2019s attribute information can be accessed by clicking the attribute table icon ( ) or the Identifier icon ( ) in the toolbar menu. When creating a WaterALLOc project, the MODSIM Network layers and the Online Basemap are automatically loaded to the panel. These layers should not be removed. Use the check box to the left of each layer to turn it on or off. Right-click on the layer to zoom to layer, export all or selected features, set labels, and access the Properties dialog window to change the symbology. HydroBID Simulation HydroBID is a stand alone program written in Java, but can be launched and run through the WaterALLOC GUI\u2026.. HydroBID folder Set inflow points WaterALLOC allows to set inflow points through the GIS interface. Explain and provide an example of what runoff is represented at each node. HydroBID simulation Describe the watershed analysis feature Inflow points file generated by WaterALLOC Measure flow file Run options Difference between \u201cLaunch GUI\u201d and \u201cExecute\u201d Review of output folder for HydroBID simulations Create MODSIM network Explain the difference between creating a MODSIM network with \u201cOnly inflow points\u201d vs \u201cAll catchments\u201d and when is best to use each of these options. Explain when to use the \u201cAppend to existing network\u201d and what would be overwritten if re-generated. Import HydroBID output Explain what results are available to be imported (this is tied to the active scenario). Explain what type of results are imported when running HydroBID with inflow points vs. all catchments. Explain the \u201cImport groundwater seepage\u201d feature. Describe what weather variables are imported to the WaterALLOC database and how the user can import different set of weather variables for each scenario and for all or selected COMIDs. Describe what output variables can be imported for spatial display Describe the default preferences set in MODSIM when HydroBID outputs are imported. MODSIM Module Creating MODSIM Networks There are different ways to create MODSIM networks to work with WaterALLOC: (1) using the HydroBiD AHD, (2) using a shapefile with unique identifiers, and (3) loading a previously created MODSIM network. Using a Shapefile General requirements Unique ID field (e.g., COMID) Drainage Area The drainage area information is stored in the project database in a table called \u201cwateralloc_runoffSupp\u201d. This table is associated with each scenario and contains the MODSIM GUID associated with the element originally created and the associated drainage area. Set MODSIM elements Demands through WaterALLOC data entry dialogs Domestic Explain basic data requirements Explain theory and methods to calculate domestic demands using data input through WaterALLOC dialogs With hydrologic states Agriculture Explain basic data requirements Explain difference between \u201cuser defined\u201d and \u201ccrop based\u201d. Describe the default values distributed with WaterALLOC and how user can change or import more Use of precipitation for net irrigation requirement Explain theory and methods to calculate agriculture demands using data input through WaterALLOC dialogs With hydrologic states Other options to add demands Provide a brief explanation and link to MODSIM documentation Explain the feature \u201cSet demands from waterALLOC demands table\u201d and when to use it Explain the feature \u201cRe-calculate all demands from Sqlite DB\u201d and when to use it Reservoirs Explain basic data requirements Other water supply (Nonstorage nodes not included in the AHD) Delete MODSIM elements Set priorities Provide a brief explanation of how priorities work in MODSIM. Provide an example and links to MODSIM documentation. Run MODSIM Explain how to adjust network settings Explain the difference between Standard run and Hydroeconomics run Hydro-economics Module Provide intro to this module and general capabilities. Use Brasilia report to extract information. Agricultural sector Provide explanation of the theory and equations used to calculate economic benefits for agricultural sector Explain user input requirements through the WaterALLOC dialogs Municipal sector Provide explanation of the theory and equations used to calculate economic benefits for municipal sector Explain user input requirements through the WaterALLOC dialogs Hydropower sector Provide explanation of the theory and equations used to calculate economic benefits for hydropower sector Cost-benefit analysis Explain how the CBA is performed in WaterALLOC Explain all elements and components of the economic summary dashboard Operation Optimization Module Provide intro to this module and general capabilities. Place holder for now. Scenarios Management Allows set of multiple scenarios for \u201cwhat if\u201d simulations. Variables that are associated with scenarios MODSIM file HydroBID Settings file Flow Line Layer Describe the new scenario options Independent with no data Independent with snapshot of the seed Dependent of the seed Note: The Flow Line Layer for the new scenario is selected based on the MODISM file base scenario. Output Visualization Explain the different options to explore results (graphs and tables). Provide link to MODSIM documentation. Explain the option to compare measured vs. simulated flows and statistical metrics to calibrate the models. References Help & FAQ Contact US Appendix A Project Database The WaterALLOC project file (*.waprj) is an database in SQLite format. The database stores information related to: Project Info Data Scenarios Info Scenarios Demand Variables HydroBID imported timeseries variables MMS Info The main database tables in the project database are referenced in","title":"Home"},{"location":"#welcome-to-the-wateralloc-user-connection","text":"","title":"Welcome to the WaterALLOC User Connection"},{"location":"#water-resources-modeling-management-system","text":"The original objective of this project was to develop a MODSIM-based Water Allocation Module (WaterALLOC) to be used in conjunction with the Hydro-BID modeling system, using the river basin simulation capabilities from MODSIM to enhance our river basin planning and management offerings. The new module will allow using the hydrologic processes simulated in Hydro-BID and import them directly into MODSIM to perform simulation of water allocation and system operations, based on water use priorities, water rights, water permits, storage operation rules, and administrative and social constraints. The new robust modeling platform will strengthen RTI\u2019s river basin management offerings, including streamlined data management between the models, ability to simulate responses and alternatives in complex systems, evaluate water availability including priorities and operations, and evaluate impacts of climate change and benefits of adaptation measures. Welcome to the WaterALLOC User Connection Water Resources Modeling Management System Main Sections Introduction WaterALLOC Approach WaterALLOC Key Features WaterALLOC Development WaterALLOC Software Installation HydroBID and MODSIM Modeling Tools HydroBID AHD COMID AHD Flow Table Database Hydrologic Model Climate Data Interpolation Tool Outputs Calibration Parameters Settings File MODSIM Network Flow Optimization Data-driven Model Long-term Planning to Real-time Operations Complex River Basin Configurations Reservoir Operations and Hydropower Generation Conjunctive Use Water Rights and Storage Contracts Customized MODSIM Features and Functionalities WaterALLOC GUI HydroBID Simulation HydroBID folder Set inflow points HydroBID simulation Create MODSIM network Import HydroBID output MODSIM Module Creating MODSIM Networks Using a Shapefile Set MODSIM elements Set priorities Run MODSIM Hydro-economics Module Agricultural sector Municipal sector Hydropower sector Cost-benefit analysis Operation Optimization Module Scenarios Management Output Visualization References Help & FAQ Contact US Project Database","title":"Water Resources Modeling Management System"},{"location":"#main-sections","text":"Introduction Getting started Create a new project Extensions and Modules Working with modules General setting and options Working with HydroBID Working with MODSIM Hydro-Economic Module GSFLow Module","title":"Main Sections"},{"location":"#introduction","text":"Description of what is WaterALLOC and motivation for its development. Mutual complement of HydroBID and MODSIM WaterALLOC is a modeling management system that provides a new geographic information system (GIS)-based interface that streamline the data processing between HydroBID and MODSIM models, offering a solution to perform water availability analysis, including river and reservoir operations with simulation of water permits and priorities, using all the river operations tools and customization provided by MODSIM. WaterALLOC was created to enhance the user experience for both, HydroBID and MODSIM users, allowing the HydroBID user to use the GIS interface to run the system and adding easy-to-use input dialogs for agricultural and municipal demands for MODSIM. Additionally, his tool creates the MODSIM simulation network automatically from the Analytical Hydrology Dataset ( AHD ) network built for HydroBID, using the catchments and streams to define the links and nodes of the MODSIM network. WaterALLOC links the results of local runoff from HydroBID to the entry nodes of MODSIM to simulate the routing of the flows in the streams of a basin. Georeferenced demand nodes can be created within the WaterALLOC interface to simulate water intake and consumption according to water availability at different points of the basin and in accordance with the permits, priorities, and physical and hydraulic limitations of the system. Also, WaterALLOC allows the creation and simulation of operation of reservoir systems, simulating water supply and power generation operations. The new robust modeling platform offers a streamlined solution for data management between the models, the ability to perform comprehensive water balance analysis that includes water infrastructure operation rules, water allocation priorities, and administrative and social constraints. Additionally, the platform supports scenario management allowing the simulation and analysis of dynamic changes to land cover, water demands, population, surface and groundwater interactions, and climate.","title":"Introduction"},{"location":"#wateralloc-approach","text":"Provide a comparison table of the features, applications (from poster) WaterALLOC builds upon two existing modeling tools, HydroBID and MODSIM with the purpose of enhancing the ability and effectiveness in providing streamlined and comprehensive solutions for water resources management around the world. WaterALLOC brings together the hydrologic simulation capabilities from HydroBID and the river basin simulation capabilities from MODSIM to support water resources planning and management. HydroBID MODSIM Function Rainfall-runoff processes modeling River basin operation and planning modeling Description Highly scalable rainfall-runoff modeling system model based on the generalized Watershed Loading Factor (GWLF) formulation to estimate the availability of surface water (stream flows) at the regional, basin, and sub-basin scales. Generic river basin management decision-support system capable of simulating complex, large-scale surface water networks; excels in the area of administering water in systems governed by water rights, administrative constraints, and agreements. Features Includes the Analytical Hydrography Dataset for Latin America and the Caribbean (LAC AHD), a digital representation of more than 300,000 catchments with their corresponding topography, river, and stream segments Includes a GIS-based catchments and streams navigation tool Provides a climate data interpolation interface to obtain rainfall and temperature inputs for the area and period of interest Includes a routing scheme for quantifying time of travel and cumulative flow estimates Additional modules: Simulates the effect of climate change Simulate the effect of reservoirs on downstream flows Link with MODFLOW groundwater models to incorporate water exchanges between groundwater and surface water Model sediment loads using Modified Universal Soil Loss Equations Uses linear-network structure and optimization as an efficient technique to operate the system and allocate water Performs water allocation based on priorities or water rights Includes features for reservoirs operation Allows simulation of stream-aquifer interaction and operations impacts Includes customizable pre-processing, execution, and post processing Distribution Publicly available Publicly available Developer RTI International Colorado State University","title":"WaterALLOC Approach"},{"location":"#wateralloc-key-features","text":"Provides a GIS interface to visualize the catchments, streamlines, MODSIM network and results Uses the AHD geo-spatial features to create the MODSIM network Allows a full map of the stream network or a simplified network Allows launch and run HydroBID and MODSIM from the same interface Allows to perform watershed analysis (similar to the AHD Navigation Tool in QGIS) Imports the output from HydroBID into the MODSIM network Prepares the MODSIM network with HydroBID settings for a ready to run model Allows visualizing the HydroBID output spatially in the map Allows access to the MODSIM objects, functionalities, and outputs Allows creating new features to complete the water allocation analysis (demands and reservoirs) Provides statistical metrics and graphs to calibrate the model Provides a hydro-economic module to conduct cost-benefit analysis Provides a scenario management structure to address \u201cwhat if\u201d questions and develop and compare scenarios with different assumptions","title":"WaterALLOC Key Features"},{"location":"#wateralloc-development","text":"RTI has provided primary support for WaterALLOC development. Provide brief description of projects where WaterALLOC has been applied. Since 2017, RTI has provided primary support for WaterALLOC development through Independent Research and Development (IR&D) Projects. Also, client-driven improvement and software customization has been conducted on project-based cases funded by the Inter-American Development Bank (IDB). Since its initial development, WaterALLOC has been applied successfully in several countries in the Latin American and Caribbean Region (LAC) to simulate complex hydrological systems, to support long-term planning, and provide a framework for integrated water resources management. Year Country Client Status Description 2018 Peru IDB Invest/ Danper S.A.C. Completed Assess water optimization activities for the Peruvian agro-industry company Danper S.A.C. located in Trujillo, Peru. Develop a water balance model to simulate the water supply and demand in the basins where Danper\u2019s agricultural and industrial productions are located. Assess impact on the water balance considering water demand and climate variability to better understand the risk and vulnerability associated with Danper\u2019s operations in the context of climate change. Provide a cost-benefit analysis on alternative technologies that can help mitigate water shortages and optimize the use of water. Identify green infrastructure measures focused on water collection and water storage that could be implemented in areas facing water security issues. 2018 Chile IDB/Fundaci\u00f3n Chile Completed Evaluate the impact of climate change on future water balance for the Maule basin. 2019 Brazil IDB/ ADASA/ANA/ CAESB/SEAGRI Completed Support the analysis of water supply planning for the Federal District (FD) by understanding and reducing its vulnerability to severe droughts, and by increasing the efficiency in the allocation of available water resources among different competing users, while providing a decision support tool for water resources management and water allocation. Illustrate the application of hydro-economic tools for determining efficient resource allocation and analyzing tradeoffs among competing water uses in a selected study area. 2020 Honduras IDB/ UGASAM- SANAA/ENEE Completed Analyze the current and future conditions of water availability and scarcity for the city of Tegucigalpa in Honduras in a context of climate change, and to analyze potential water sources and different management strategies to reduce the current water deficit that faces the capital city. 2020 Peru IDB/SEDAPAL Ongoing Support the development of a system for the planning and integrated management of the basins that supply water to the Metropolitan Area of Lima (AML), which will seek to minimize the environmental, economic, and social impacts due to drought events. 2020 Colombia IDB Ongoing Develop technical capacities and apply HydroBID and WaterALLOC management tools to support the formulation of Water Safety Plans for four water utilities under the IDB\u2019s COMPASS program. 2020 Chile IDB Ongoing Support the development of a Drought Management Plan (DMP) for the Maipo basin that will pursue to minimize the environmental, economic, and social impacts of drought episodes. 2021 El Salvador IDB Coming soon","title":"WaterALLOC Development"},{"location":"#wateralloc-software-installation","text":"Explanation of the installation files and license agreement. WaterALLOC is distributed at no cost to our clients. To install WaterALLOC, copy the installation files into a folder and run the installer by double clicking the setup.exe file and then click on Install in the prompt window. When installation has completed successfully, you can open the program by searching for WaterALLOC in the Start menu of Windows and then clicking on the program icon . RTI provides a free license to use the software for non-commercial purposes. The license is granted for 30 days and it is automatically renewed with an Internet connection every 30 days. WaterALLOC runs in Microsoft Windows computers with a minimum of XX RAM capacity and an Internet connection is not required. Note: Although it is not required to install MODSIM in your computer, several versions of MODSIM are also distributed within the program installation files. Having MODSIM installed can be useful for editing complex networks.","title":"WaterALLOC Software Installation"},{"location":"#hydrobid-and-modsim-modeling-tools","text":"Provide brief description of HydroBID and MODSIM and include links to documentation. To get started, we suggest getting familiarized with some key concepts about HydroBID and MODSIM:","title":"HydroBID and MODSIM Modeling Tools"},{"location":"#hydrobid","text":"AHD COMID Land use and soil type default databases CDIT Calibration parameters Settings file The HydroBID modeling system for quantitative simulation of hydrology and climate change has three primary components: the Analytical Hydrography Dataset (AHD) , the database , and the hydrologic model .","title":"HydroBID"},{"location":"#ahd","text":"The AHD is a digital representation of catchment boundaries and stream segments for the entire LAC region, containing over 300,000 catchments with an average size of 83 km 2 for South America and 23 km 2 for Central America and the Caribbean. The AHD is a regional platform of spatial data used to integrate the disparate data needed to support hydrologic modeling. It provides a framework for consistently parameterizing models, provides the necessary river network connectivity, and stores the data necessary for displaying results in a GIS format.","title":"AHD"},{"location":"#comid","text":"Each of the catchments and stream segments delineated in the AHD has a unique identifier number known as COMID , which allows to quickly identify the basins and rivers that drain at a certain point within the extension of the AHD (Add Reference to Technical Note 1).","title":"COMID"},{"location":"#ahd-flow-table","text":"HydroBID includes a table containing the upstream/downstream relationship between each stream or each catchment. The table with this information is the AHD flow table (AHDFlow.dbf). This table allows the navigation of the AHD using GIS tools.","title":"AHD Flow Table"},{"location":"#database","text":"The database contains information associated with each catchment, including drainage area, stream length, slope, land uses, and soil types. Additionally, each catchment in the AHD is parametrized with land use and soil type data from global datasets. The land cover data is based on the U.S. Geological Survey (USGS) Global Land Characterization and the soil type data is based on the Harmonized World Soil Database (HWSD) supported by the International Institute for Applied Systems Analysis (IIASA) and the Food and Agriculture Organization (FAO). The catchment\u2019s soil and land cover conditions determine the Curve Number (CN) and the hydrologic soil group that the model uses to calculate runoff. All the input data for HydroBID is stored in a single SQLite database.","title":"Database"},{"location":"#hydrologic-model","text":"The hydrologic model is an enhanced version of the rainfall-runoff Generalized Watershed Loading Function (GWLF) model (Haith and Shoemaker, 1987), coupled with a novel lag-routing methodology developed by RTI (Moreda et al., 2014). The model computes runoff and baseflow by catchment. The GWLF estimates runoff using the U.S. Soil Conservation Service\u2019s curve number (CN) method. Catchment CNs are stored in the database and are determined by the watershed\u2019s combination of soil and land cover conditions, which are represented as hydrologic soil groups, cover type, treatment, and hydrologic condition. After runoff estimates, excess precipitation infiltrates to the unsaturated layer where it is subject to evaporation. Over time, the infiltrated water percolates from the unsaturated layer downward to replenish the saturated storage. Water within the saturated layer enters the stream channel as baseflow where it combines with runoff from the catchment and any inflows from the upstream catchments to provide the stream flow volume, which is then routed through the stream network defined by the AHD (Add Reference to Technical Note 2).","title":"Hydrologic Model"},{"location":"#climate-data-interpolation-tool","text":"A preprocessor referred to as the Climate Data Interpolation Tool ( CDIT ), built into the HydroBID modeling system, automates spatial interpolation of daily temperature and precipitation time series between stations. The tool uses the Inverse Distance Weighting (IDW) method to interpolate climate data at the centroid of each catchment.","title":"Climate Data Interpolation Tool"},{"location":"#outputs","text":"HydroBID can simulate stream flows in unimpaired watersheds for historic, current, and future conditions based on land use, precipitation, and temperature inputs. Model outputs of predicted streamflow are saved in readily usable, comma separated value (.csv) format, at either a daily or monthly time step. The system has a graphical user interface (GUI) to facilitate loading and processing of model input, as well as to display both graphical and tabulated model output. The hydrologic model utilizes the data structure and the catchment and stream network topologies of the AHD to generate flow estimates at the outlet of any catchment or basin selected by the user. In addition to flow generation, HydroBID includes other modules for 1) reservoir simulation, 2) sediment transport, and 3) surface and groundwater interactions using MODFLOW.","title":"Outputs"},{"location":"#calibration-parameters","text":"HydroBID contains several calibration parameters that are used to adapt the model and optimize its performance simulating observed streamflows. HydroBID provides default values for some of the hydrologic parameters in the database. For instance, the database contains values for the CN and for AWC in the vadose zone. However, these parameters need to be calibrated to historical streamflow measurements by modifying a factor that multiplies the values already contained in the database. For other parameters, such as the recession (r) and seepage (s) coefficients, the user needs to enter the initial values that will be applied uniformly to all catchments within the simulated area.","title":"Calibration Parameters"},{"location":"#settings-file","text":"HydroBID saves all the setting parameters provided in the GUI into a text file (.txt). This setting file allows an identical re-run of the model at any time in the future. When open HydroBID, the GUI will be automatically populated with the values in the setting file, and all required data for a model run will be obtained from the current folder.","title":"Settings File"},{"location":"#modsim","text":"Describe the elements in MODSIM network (types of nodes, links) and Priorities. MODSIM, developed by the Colorado State University, is a decision-making support system that uses optimization in a stream network to help watershed managers with the analysis of water supply in the face of hydrological uncertainty and demand growth ( http://modsim.engr.colostate.edu/ ). As a decision support system, MODSIM is designed for developing improved strategies for short-term water management, long-term operational planning, drought contingency planning, water rights analysis and water allocation between urban, agricultural, and environmental sectors (Labadie, 2012). The model uses the concept of flow networks to efficiently simulate complex water systems at river basin scale. One of the advantages of MODSIM is that it can be customized for any unique basin management conditions, specialized operating rules, input data, output reports, and access to external models running concurrently with MODSIM, all without having to modify the original MODSIM source code. In addition, RTI holds a collaboration agreement to support the maintenance and development of MODSIM and provide our clients with enhanced and long-term support. Below are some of the key MODSIM capabilities. Labadie, 2012 has a complete list of the software capabilities.","title":"MODSIM"},{"location":"#network-flow-optimization","text":"The basic solver in MODSIM is a state-of-the-art network flow optimization algorithm that is more than an order of magnitude faster than solvers currently in use in other river basin modeling packages and capable of modeling extremely large-scale networks. The optimization of stream network provides an efficient way assuring allocation of flow in accordance with specified rights and priorities.","title":"Network Flow Optimization"},{"location":"#data-driven-model","text":"MODSIM maintains complete reliance on user input data and specifications for describing system features, operational requirements, and priorities, which are separated from the network modeling algorithmic structure. No a priori defined operating policies or priorities hardwired into MODSIM.","title":"Data-driven Model"},{"location":"#long-term-planning-to-real-time-operations","text":"MODSIM is applicable to long term planning (monthly), medium term management (weekly), and short term operations (daily) in river systems.","title":"Long-term Planning to Real-time Operations"},{"location":"#complex-river-basin-configurations","text":"Complex network topologies can be constructed, including looped and bifurcating flow paths. Network topology is graphically created by simple point and click actions on the GUI palette. In addition, georeferenced network topologies can be loaded into MODSIM from a geographic information system (GIS).","title":"Complex River Basin Configurations"},{"location":"#reservoir-operations-and-hydropower-generation","text":"Reservoir balancing routines are included, allowing division of reservoir storage into several operational zones for controlling the spatial distribution of available storage in a river basin. Hydropower generation capacity and energy production is based on power plant efficiencies varying with discharge and head. Energy production calculations are performed, with consideration of tailwater effects and head-dependent hydraulic capacity restrictions on reservoir discharge.","title":"Reservoir Operations and Hydropower Generation"},{"location":"#conjunctive-use","text":"MODSIM includes modeling capabilities for conjunctive use of surface water and groundwater and simulation of stream-aquifer interactions. A stream aquifer model based on the USGS sdf approach is included, as well possible linkage with external groundwater models.","title":"Conjunctive Use"},{"location":"#water-rights-and-storage-contracts","text":"MODSIM is capable of directly incorporating institutional structures governing water allocation under direct flow or natural streamflow rights and seasonal storage rights and contracts, including provisions for allocating water according to specified priorities based on current river basin conditions","title":"Water Rights and Storage Contracts"},{"location":"#customized-modsim","text":"Users are provided access to all key variables and object classes in MODSIM, thereby allowing customization for any complex river basin operational and modeling constructs without the need for reprogramming and recompiling the MODSIM source code. Custom code can be developed for defining complex operating rules and policies, executing external modules such as water quality models, input of specialized data sets for particular applications, preparing customized model output and reports, and linking MODSIM with database management systems to provide access to timely data and forecast information for real-time river basin management. The physical water resource systems are represented as a network of nodes, both storage (i.e., reservoirs) and non-storage (i.e., stream confluences, diversion points, ad demand locations), and links (i.e., canals, natural river reaches).","title":"Customized MODSIM"},{"location":"#features-and-functionalities","text":"","title":"Features and Functionalities"},{"location":"#wateralloc-gui","text":"Provide description of: Main menu, Toolbar options, Map window, Legend, Configuration settings, Coordinate scaling, Log messages, Scenario analysis tree, Data entry dialogs, Results windows. The WaterALLOC interface consist of a map window to visualize the physical features of the study area and the MODSIM network elements; a main menu at the top, providing access to HydroBID and MODSIM functionalities; a toolbar menu that provides one-click access to various GIS and other program functions; a log messages window that records all the actions performed by the user and also shows error messages; a configuration settings window that is used to set the configurations of a WaterALLOC project and allows access to scenario management and view; and a layer explorer panel shown in the left side of the interface that allows to hide/show all layers available and to customize their properties. Main Menu: The main menu provides access to the most important functions of WaterALLOC. File: Allows to create a new WaterALLOC project, open an existing project, and save changes made to a project. Options : Allows to switch between English and Spanish languages and to activate WaterALLOC modules, such as the hydro-economic module . View : Allows to activate the different windows of the WaterALLOC interface. HydroBID : Allows to access the HydroBID simulation to set the configurations of the model run (i.e., sqlite, climate data, observed streamflow files, calibration parameters, etc.) and view the results. Also, allows access to the create MODSIM network and import HydroBID output windows. MODSIM : Allows access to MODSIM network settings and to run the model. Tools : Allows to import a layer from a comma separated value (.csv) file. About : Includes the license agreement and the WaterALLOC version. Toolbar Menu: The toolbar menu provides access to some GIS functions and MODSIM available elements. This Icon Is Used to: Add layers to the map Move the map to progressively display adjacent areas Select objects displayed in the map window. To select an object, make sure to select the layer in the Layer Explorer Panel on the left. Zoom in the map Zoom out the map Zoom to the previous extent Zoom to the next extent Zoom to maximum extent Zoom to coordinates Identifies features of the selected object in the map Show the attribute table of selected layer. Also allows to query the selection of features Select label Enable/disable basemap Select local inflows Enable/disable MODSIM layers Demand Node. Add consumptive demands (i.e., agricultural, domestic, groundwater pumping). Demand nodes can also be added by importing a shapefile or a .csv file Reservoir Node. Add reservoirs for modeling reservoir storage operations and hydropower generation Nonstorage Node. Simulate catchment runoff, which are imported from the outputs of HydroBID. Add tributary inflows, water transfers, groundwater return flows Sink Node. Basin outlet Link. Add maximum and minimum flow, stream channel losses Remove MODSIM nodes and links Stop editing mode Configuration Settings Window: The settings window provides the absolute or relative paths to the configuration files of a WaterALLOC project and scenarios. It is divided in three main tabs: General tab shows the absolute path to the workspace and allows to select the flowline layer. Hydro-BID tab shows the relative paths to the HydroBID .jar (executable) file, the AHD Flow table , and to the settings file . Note : When creating a WaterALLOC project (.waprj), a HydroBID folder is automatically created in the same workspace, which includes HydroBID executables and a WALLOCFiles subfolder that organizes outputs files of HydroBID runs for different scenarios. Also, a folder for the Default scenario and its respective settings file is automatically created. MODSIM tab allows access to an existing MODSIM network file or allows to create a new .xy file. It also allows to modify the coordinate scaling factors, which are used to adjust the MODSIM network to the GIS interface. The configuration settings window also allows to hide/show the scenarios management panel. See Section 6 for more information about the scenario management. Layer Explorer Panel: All layers added to a WaterALLOC project will be displayed in the layer panel on the left. The panel helps manage the display order of map layers and their symbology and set other properties of each map layer. Layers listed at the top are displayed first, followed by the layers below them. A layer\u2019s attribute information can be accessed by clicking the attribute table icon ( ) or the Identifier icon ( ) in the toolbar menu. When creating a WaterALLOc project, the MODSIM Network layers and the Online Basemap are automatically loaded to the panel. These layers should not be removed. Use the check box to the left of each layer to turn it on or off. Right-click on the layer to zoom to layer, export all or selected features, set labels, and access the Properties dialog window to change the symbology.","title":"WaterALLOC GUI"},{"location":"#hydrobid-simulation","text":"HydroBID is a stand alone program written in Java, but can be launched and run through the WaterALLOC GUI\u2026..","title":"HydroBID Simulation"},{"location":"#hydrobid-folder","text":"","title":"HydroBID folder"},{"location":"#set-inflow-points","text":"WaterALLOC allows to set inflow points through the GIS interface. Explain and provide an example of what runoff is represented at each node.","title":"Set inflow points"},{"location":"#hydrobid-simulation_1","text":"Describe the watershed analysis feature Inflow points file generated by WaterALLOC Measure flow file Run options Difference between \u201cLaunch GUI\u201d and \u201cExecute\u201d Review of output folder for HydroBID simulations","title":"HydroBID simulation"},{"location":"#create-modsim-network","text":"Explain the difference between creating a MODSIM network with \u201cOnly inflow points\u201d vs \u201cAll catchments\u201d and when is best to use each of these options. Explain when to use the \u201cAppend to existing network\u201d and what would be overwritten if re-generated.","title":"Create MODSIM network"},{"location":"#import-hydrobid-output","text":"Explain what results are available to be imported (this is tied to the active scenario). Explain what type of results are imported when running HydroBID with inflow points vs. all catchments. Explain the \u201cImport groundwater seepage\u201d feature. Describe what weather variables are imported to the WaterALLOC database and how the user can import different set of weather variables for each scenario and for all or selected COMIDs. Describe what output variables can be imported for spatial display Describe the default preferences set in MODSIM when HydroBID outputs are imported.","title":"Import HydroBID output"},{"location":"#modsim-module","text":"","title":"MODSIM Module"},{"location":"#creating-modsim-networks","text":"There are different ways to create MODSIM networks to work with WaterALLOC: (1) using the HydroBiD AHD, (2) using a shapefile with unique identifiers, and (3) loading a previously created MODSIM network.","title":"Creating MODSIM Networks"},{"location":"#using-a-shapefile","text":"General requirements Unique ID field (e.g., COMID) Drainage Area The drainage area information is stored in the project database in a table called \u201cwateralloc_runoffSupp\u201d. This table is associated with each scenario and contains the MODSIM GUID associated with the element originally created and the associated drainage area.","title":"Using a Shapefile"},{"location":"#set-modsim-elements","text":"Demands through WaterALLOC data entry dialogs Domestic Explain basic data requirements Explain theory and methods to calculate domestic demands using data input through WaterALLOC dialogs With hydrologic states Agriculture Explain basic data requirements Explain difference between \u201cuser defined\u201d and \u201ccrop based\u201d. Describe the default values distributed with WaterALLOC and how user can change or import more Use of precipitation for net irrigation requirement Explain theory and methods to calculate agriculture demands using data input through WaterALLOC dialogs With hydrologic states Other options to add demands Provide a brief explanation and link to MODSIM documentation Explain the feature \u201cSet demands from waterALLOC demands table\u201d and when to use it Explain the feature \u201cRe-calculate all demands from Sqlite DB\u201d and when to use it Reservoirs Explain basic data requirements Other water supply (Nonstorage nodes not included in the AHD) Delete MODSIM elements","title":"Set MODSIM elements"},{"location":"#set-priorities","text":"Provide a brief explanation of how priorities work in MODSIM. Provide an example and links to MODSIM documentation.","title":"Set priorities"},{"location":"#run-modsim","text":"Explain how to adjust network settings Explain the difference between Standard run and Hydroeconomics run","title":"Run MODSIM"},{"location":"#hydro-economics-module","text":"Provide intro to this module and general capabilities. Use Brasilia report to extract information.","title":"Hydro-economics Module"},{"location":"#agricultural-sector","text":"Provide explanation of the theory and equations used to calculate economic benefits for agricultural sector Explain user input requirements through the WaterALLOC dialogs","title":"Agricultural sector"},{"location":"#municipal-sector","text":"Provide explanation of the theory and equations used to calculate economic benefits for municipal sector Explain user input requirements through the WaterALLOC dialogs","title":"Municipal sector"},{"location":"#hydropower-sector","text":"Provide explanation of the theory and equations used to calculate economic benefits for hydropower sector","title":"Hydropower sector"},{"location":"#cost-benefit-analysis","text":"Explain how the CBA is performed in WaterALLOC Explain all elements and components of the economic summary dashboard","title":"Cost-benefit analysis"},{"location":"#operation-optimization-module","text":"Provide intro to this module and general capabilities. Place holder for now.","title":"Operation Optimization Module"},{"location":"#scenarios-management","text":"Allows set of multiple scenarios for \u201cwhat if\u201d simulations. Variables that are associated with scenarios MODSIM file HydroBID Settings file Flow Line Layer Describe the new scenario options Independent with no data Independent with snapshot of the seed Dependent of the seed Note: The Flow Line Layer for the new scenario is selected based on the MODISM file base scenario.","title":"Scenarios Management"},{"location":"#output-visualization","text":"Explain the different options to explore results (graphs and tables). Provide link to MODSIM documentation. Explain the option to compare measured vs. simulated flows and statistical metrics to calibrate the models.","title":"Output Visualization"},{"location":"#references","text":"","title":"References"},{"location":"#help-faq","text":"","title":"Help &amp; FAQ"},{"location":"#contact-us","text":"Appendix A","title":"Contact US"},{"location":"#project-database","text":"The WaterALLOC project file (*.waprj) is an database in SQLite format. The database stores information related to: Project Info Data Scenarios Info Scenarios Demand Variables HydroBID imported timeseries variables MMS Info The main database tables in the project database are referenced in","title":"Project Database"},{"location":"General/","text":"Introduction Description of what is WaterALLOC and motivation for its development. Mutual complement of HydroBID and MODSIM WaterALLOC Approach Brief explanation of HydroBID and MODSIM Provide a comparison table of the features, applications (from poster) Enhanced river basin management tool \u2013 make sure to have generic, accessible language and cover the big picture purpose of the tools Key Features Read HydroBID input files to create the MODSIM network Allows a full map of the stream network or a simplified network Allows launch and run HydroBID in the WaterALLOC interface Allows to perform watershed analysis (similar to the AHD navigation tool) Imports the output from HydroBID into the MODSIM network Prepares the MODSIM network with HydroBID settings for a ready to run model Allows visualizing the HydroBID output in the map objects Allows access to the MODSIM objects and outputs in the WaterALLOC interface Allows creating new features to complete the water allocation analysis (Demands and Reservoirs) Provides statistical metrics and graphs to calibrate the model Provides a hydro-economic module to conduct cost-benefit analysis Provides a scenario management structure to address \u201cwhat if\u201d questions and develop and compare scenarios with different assumptions WaterALLOC Development RTI has provided primary support for WaterALLOC development. Provide brief description of projects where WaterALLOC has been applied. WaterALLOC Workspace This is the location of the files for a WaterALLOC project. WaterALLOC Interface Provide description of: Main menu Toolbar options Map window Legend Configuration settings Coordinate scaling Log messages Scenario analysis tree Data entry dialogs Results windows Background Information WaterALLOC Software Explanation of the installation files, files created, folder structure, and license agreement. To get started, we suggest getting familiarized with some of the following concepts (provide brief description and include links to HydroBID and MODSIM documentation): HydroBID AHD COMID Land use and soil type default databases Climate data required CDIT Local inflows Calibration parameters Settings file MODSIM Elements in MODSIM network (types of nodes, links) Priorities Core Modules HydroBID Module Set HydroBID folder Set inflow points WaterALLOC allows to set inflow points through the GIS interface. Explain and provide an example of what runoff is represented at ach node. HydroBID simulation Describe the watershed analysis feature Inflow points file generated by WaterALLOC Measure flow file Run options Difference between \u201cLaunch GUI\u201d and \u201cExecute\u201d Review of output folder for HydroBID simulations Create MODSIM network Explain the difference between creating a MODSIM network with \u201cOnly inflow points\u201d vs \u201cAll catchments\u201d and when is best to use each of these options. Explain when to use the \u201cAppend to existing network\u201d and what would be overwritten if re-generated. Import HydroBID output Explain what results are available to be imported (this is tied to the active scenario). Explain what type of results are imported when running HydroBID with inflow points vs. all catchments. Explain the \u201cImport groundwater seepage\u201d feature. Describe what weather variables are imported to the WaterALLOC database and how the user can import different set of weather variables for each scenario and for all or selected COMIDs. Describe what output variables can be imported for spatial display Describe the default preferences set in MODSIM when HydroBID outputs are imported. MODSIM Module Set MODSIM elements Demands through WaterALLOC data entry dialogs Domestic Explain basic data requirements Explain theory and methods to calculate domestic demands using data input through WaterALLOC dialogs With hydrologic states Agriculture Explain basic data requirements Explain difference between \u201cuser defined\u201d and \u201ccrop based\u201d. Describe the default values distributed with WaterALLOC and how user can change or import more Use of precipitation for net irrigation requirement Explain theory and methods to calculate agriculture demands using data input through WaterALLOC dialogs With hydrologic states Other options to add demands Provide a brief explanation and link to MODSIM documentation Explain the feature \u201cSet demands from waterALLOC demands table\u201d and when to use it Explain the feature \u201cRe-calculate all demands from Sqlite DB\u201d and when to use it Reservoirs Explain basic data requirements Other water supply (Nonstorage nodes not included in the AHD) Delete MODSIM elements Set priorities Provide a brief explanation of how priorities work in MODSIM. Provide an example and links to MODSIM documentation. Run MODSIM Explain how to adjust network settings Explain the difference between Standard run and Hydroeconomics run Hydro-economics Module Provide intro to this module and general capabilities. Use Brasilia report to extract information. Agricultural sector Provide explanation of the theory and equations used to calculate economic benefits for agricultural sector Explain user input requirements through the WaterALLOC dialogs Municipal sector Provide explanation of the theory and equations used to calculate economic benefits for municipal sector Explain user input requirements through the WaterALLOC dialogs Hydropower sector Provide explanation of the theory and equations used to calculate economic benefits for hydropower sector Cost-benefit analysis Explain how the CBA is performed in WaterALLOC Explain all elements and components of the economic summary dashboard Operation Optimization Module Provide intro to this module and general capabilities. Place holder for now. Scenarios Management Allows set of multiple scenarios for \u201cwhat if\u201d simulations. Describe the new scenario options Independent with no data Independent with snapshot of the seed Dependent of the seed Results Explain the different options to explore results (graphs and tables). Provide link to MODSIM documentation. Explain the option to compare measured vs. simulated flows and statistical metrics to calibrate the models. References Help & FAQ Contact US","title":"Settings and Options"},{"location":"General/#introduction","text":"Description of what is WaterALLOC and motivation for its development. Mutual complement of HydroBID and MODSIM","title":"Introduction"},{"location":"General/#wateralloc-approach","text":"Brief explanation of HydroBID and MODSIM Provide a comparison table of the features, applications (from poster) Enhanced river basin management tool \u2013 make sure to have generic, accessible language and cover the big picture purpose of the tools","title":"WaterALLOC Approach"},{"location":"General/#key-features","text":"Read HydroBID input files to create the MODSIM network Allows a full map of the stream network or a simplified network Allows launch and run HydroBID in the WaterALLOC interface Allows to perform watershed analysis (similar to the AHD navigation tool) Imports the output from HydroBID into the MODSIM network Prepares the MODSIM network with HydroBID settings for a ready to run model Allows visualizing the HydroBID output in the map objects Allows access to the MODSIM objects and outputs in the WaterALLOC interface Allows creating new features to complete the water allocation analysis (Demands and Reservoirs) Provides statistical metrics and graphs to calibrate the model Provides a hydro-economic module to conduct cost-benefit analysis Provides a scenario management structure to address \u201cwhat if\u201d questions and develop and compare scenarios with different assumptions","title":"Key Features"},{"location":"General/#wateralloc-development","text":"RTI has provided primary support for WaterALLOC development. Provide brief description of projects where WaterALLOC has been applied.","title":"WaterALLOC Development"},{"location":"General/#wateralloc-workspace","text":"This is the location of the files for a WaterALLOC project.","title":"WaterALLOC Workspace"},{"location":"General/#wateralloc-interface","text":"Provide description of:","title":"WaterALLOC Interface"},{"location":"General/#main-menu","text":"","title":"Main menu"},{"location":"General/#toolbar-options","text":"","title":"Toolbar options"},{"location":"General/#map-window","text":"","title":"Map window"},{"location":"General/#legend","text":"","title":"Legend"},{"location":"General/#configuration-settings","text":"","title":"Configuration settings"},{"location":"General/#coordinate-scaling","text":"","title":"Coordinate scaling"},{"location":"General/#log-messages","text":"","title":"Log messages"},{"location":"General/#scenario-analysis-tree","text":"","title":"Scenario analysis tree"},{"location":"General/#data-entry-dialogs","text":"","title":"Data entry dialogs"},{"location":"General/#results-windows","text":"","title":"Results windows"},{"location":"General/#background-information","text":"","title":"Background Information"},{"location":"General/#wateralloc-software","text":"Explanation of the installation files, files created, folder structure, and license agreement. To get started, we suggest getting familiarized with some of the following concepts (provide brief description and include links to HydroBID and MODSIM documentation):","title":"WaterALLOC Software"},{"location":"General/#hydrobid","text":"","title":"HydroBID"},{"location":"General/#ahd","text":"","title":"AHD"},{"location":"General/#comid","text":"","title":"COMID"},{"location":"General/#land-use-and-soil-type-default-databases","text":"","title":"Land use and soil type default databases"},{"location":"General/#climate-data-required","text":"","title":"Climate data required"},{"location":"General/#cdit","text":"","title":"CDIT"},{"location":"General/#local-inflows","text":"","title":"Local inflows"},{"location":"General/#calibration-parameters","text":"","title":"Calibration parameters"},{"location":"General/#settings-file","text":"","title":"Settings file"},{"location":"General/#modsim","text":"Elements in MODSIM network (types of nodes, links) Priorities","title":"MODSIM"},{"location":"General/#core-modules","text":"","title":"Core Modules"},{"location":"General/#hydrobid-module","text":"","title":"HydroBID Module"},{"location":"General/#set-hydrobid-folder","text":"","title":"Set HydroBID folder"},{"location":"General/#set-inflow-points","text":"WaterALLOC allows to set inflow points through the GIS interface. Explain and provide an example of what runoff is represented at ach node.","title":"Set inflow points"},{"location":"General/#hydrobid-simulation","text":"Describe the watershed analysis feature Inflow points file generated by WaterALLOC Measure flow file Run options Difference between \u201cLaunch GUI\u201d and \u201cExecute\u201d Review of output folder for HydroBID simulations","title":"HydroBID simulation"},{"location":"General/#create-modsim-network","text":"Explain the difference between creating a MODSIM network with \u201cOnly inflow points\u201d vs \u201cAll catchments\u201d and when is best to use each of these options. Explain when to use the \u201cAppend to existing network\u201d and what would be overwritten if re-generated.","title":"Create MODSIM network"},{"location":"General/#import-hydrobid-output","text":"Explain what results are available to be imported (this is tied to the active scenario). Explain what type of results are imported when running HydroBID with inflow points vs. all catchments. Explain the \u201cImport groundwater seepage\u201d feature. Describe what weather variables are imported to the WaterALLOC database and how the user can import different set of weather variables for each scenario and for all or selected COMIDs. Describe what output variables can be imported for spatial display Describe the default preferences set in MODSIM when HydroBID outputs are imported.","title":"Import HydroBID output"},{"location":"General/#modsim-module","text":"Set MODSIM elements Demands through WaterALLOC data entry dialogs Domestic Explain basic data requirements Explain theory and methods to calculate domestic demands using data input through WaterALLOC dialogs With hydrologic states Agriculture Explain basic data requirements Explain difference between \u201cuser defined\u201d and \u201ccrop based\u201d. Describe the default values distributed with WaterALLOC and how user can change or import more Use of precipitation for net irrigation requirement Explain theory and methods to calculate agriculture demands using data input through WaterALLOC dialogs With hydrologic states Other options to add demands Provide a brief explanation and link to MODSIM documentation Explain the feature \u201cSet demands from waterALLOC demands table\u201d and when to use it Explain the feature \u201cRe-calculate all demands from Sqlite DB\u201d and when to use it Reservoirs Explain basic data requirements Other water supply (Nonstorage nodes not included in the AHD) Delete MODSIM elements Set priorities Provide a brief explanation of how priorities work in MODSIM. Provide an example and links to MODSIM documentation. Run MODSIM Explain how to adjust network settings Explain the difference between Standard run and Hydroeconomics run Hydro-economics Module Provide intro to this module and general capabilities. Use Brasilia report to extract information. Agricultural sector Provide explanation of the theory and equations used to calculate economic benefits for agricultural sector Explain user input requirements through the WaterALLOC dialogs Municipal sector Provide explanation of the theory and equations used to calculate economic benefits for municipal sector Explain user input requirements through the WaterALLOC dialogs Hydropower sector Provide explanation of the theory and equations used to calculate economic benefits for hydropower sector Cost-benefit analysis Explain how the CBA is performed in WaterALLOC Explain all elements and components of the economic summary dashboard Operation Optimization Module Provide intro to this module and general capabilities. Place holder for now. Scenarios Management Allows set of multiple scenarios for \u201cwhat if\u201d simulations. Describe the new scenario options Independent with no data Independent with snapshot of the seed Dependent of the seed Results Explain the different options to explore results (graphs and tables). Provide link to MODSIM documentation. Explain the option to compare measured vs. simulated flows and statistical metrics to calibrate the models. References Help & FAQ Contact US","title":"MODSIM Module"},{"location":"about/","text":"Pavidae se vela vallibus fontibus cumque Fulmina hasta Lorem markdownum fera , erat tamen saevae sacra rursusque Ulixe sitim Apollo vocant miles solus, sorores pro post imis! Scylla titulum nervo! Puer et, cetera causas et bracchia annosque iussam ait passim nitido, aut est, deos audit? In roboribusque quoque aliquisque ora dederatque decimum Agenore quater ora sunt. Utilibus sublime deferri candidus comitesque si inter tardius iter : est. apple += supply_vista + 4; alu(4 + hackerOsi); android_character_bing.output += metadata + web; Natis occidimus iam; non mala molimina, et passu in metu Achaia prospectat crater lucemque nomenque. Legumque puer. Incursu mores adsistere iam cornum nec praebet memini guttura dentes, ad supero! Ipsa qui obsistere satis curvata atrae per tegitur calidumque meque. Sopore undis Viri fugias luctantemque munus cumque niveo: demit. Nescitve timidusque prole et fortuna iacet. Qua spatium: cum data sequuntur umquam: ea aut tellus sonus. Invenio mansit ubi. Purpureis capiti Asterien succinctis virus attonuit volumine sedibus: fudi meris, hoc fecit quoque illis anguem Caenis nulla in! var mnemonicBarcraftPrimary = web + keylogger_paper.power_url_compatible.web_ddl_crossplatform( desktopBalanceDisk, perl); dock.tag(trollRaster); if (fileCarrierHoc >= name_rfid) { stationMasterRequirements.paste = broadbandCardHttp(system, guid); } else { cable *= e_ssid + 4; } Senectae et fuisses cetera aversae animae, tum natorum dimovit ille, non ferox, tamen costis excipiunt gemuere. Victo o at lacrimis nomenque Pheretiade, a cladibus in flammas rectior. Crinem videt , unda: inpatiens dixit insequor Nonacrina tota miserabile. Prima fata feret. Robora est ortus curvataque serta ego, sponte ortus crimen crudelia sinit viisque suos. Hoc facta arabat aspicit equidem et singula sacros. Dolores soror inamabile similesque in clausit nefas, per et et.","title":"About"},{"location":"about/#pavidae-se-vela-vallibus-fontibus-cumque","text":"","title":"Pavidae se vela vallibus fontibus cumque"},{"location":"about/#fulmina-hasta","text":"Lorem markdownum fera , erat tamen saevae sacra rursusque Ulixe sitim Apollo vocant miles solus, sorores pro post imis! Scylla titulum nervo! Puer et, cetera causas et bracchia annosque iussam ait passim nitido, aut est, deos audit? In roboribusque quoque aliquisque ora dederatque decimum Agenore quater ora sunt. Utilibus sublime deferri candidus comitesque si inter tardius iter : est. apple += supply_vista + 4; alu(4 + hackerOsi); android_character_bing.output += metadata + web; Natis occidimus iam; non mala molimina, et passu in metu Achaia prospectat crater lucemque nomenque. Legumque puer. Incursu mores adsistere iam cornum nec praebet memini guttura dentes, ad supero! Ipsa qui obsistere satis curvata atrae per tegitur calidumque meque.","title":"Fulmina hasta"},{"location":"about/#sopore-undis","text":"Viri fugias luctantemque munus cumque niveo: demit. Nescitve timidusque prole et fortuna iacet. Qua spatium: cum data sequuntur umquam: ea aut tellus sonus. Invenio mansit ubi. Purpureis capiti Asterien succinctis virus attonuit volumine sedibus: fudi meris, hoc fecit quoque illis anguem Caenis nulla in! var mnemonicBarcraftPrimary = web + keylogger_paper.power_url_compatible.web_ddl_crossplatform( desktopBalanceDisk, perl); dock.tag(trollRaster); if (fileCarrierHoc >= name_rfid) { stationMasterRequirements.paste = broadbandCardHttp(system, guid); } else { cable *= e_ssid + 4; } Senectae et fuisses cetera aversae animae, tum natorum dimovit ille, non ferox, tamen costis excipiunt gemuere. Victo o at lacrimis nomenque Pheretiade, a cladibus in flammas rectior. Crinem videt , unda: inpatiens dixit insequor Nonacrina tota miserabile. Prima fata feret. Robora est ortus curvataque serta ego, sponte ortus crimen crudelia sinit viisque suos. Hoc facta arabat aspicit equidem et singula sacros. Dolores soror inamabile similesque in clausit nefas, per et et.","title":"Sopore undis"},{"location":"main/","text":"WaterALLOC User Manual Table of Contents 1. Introduction 2 1.1. WaterALLOC Approach 2 1.2. Key Features 2 2. WaterALLOC Development 2 3. WaterALLOC Interface 2 4. Getting Started 2 4.1. WaterALLOC Installation 2 4.2. HydroBID 3 4.3. MODSIM 3 5. Core Modules 3 5.1. HydroBID Module 3 5.2. MODSIM Module 4 5.3. Hydro-economics Module 4 5.4. Operation Optimization Module 5 6. Scenarios Management 5 7. Results 5 8. References 5 9. Help & FAQ 5 10. Contact US 5 Introduction Description of what is WaterALLOC and motivation for its development. Mutual complement of HydroBID and MODSIM WaterALLOC is a modeling management system that provides a new geographic information system (GIS)-based interface that streamline the data processing between HydroBID and MODSIM models, offering a solution to perform water availability analysis, including river and reservoir operations with simulation of water permits and priorities, using all the river operations tools and customization provided by MODSIM. WaterALLOC was created to enhance the user experience for both, HydroBID and MODSIM users, allowing the HydroBID user to use the GIS interface to run the system and adding easy-to-use input dialogs for agricultural and municipal demands for MODSIM. Additionally, his tool creates the MODSIM simulation network automatically from the Analytical Hydrology Dataset ( AHD ) network built for HydroBID, using the catchments and streams to define the links and nodes of the MODSIM network. WaterALLOC links the results of local runoff from HydroBID to the entry nodes of MODSIM to simulate the routing of the flows in the streams of a basin. Georeferenced demand nodes can be created within the WaterALLOC interface to simulate water intake and consumption according to water availability at different points of the basin and in accordance with the permits, priorities, and physical and hydraulic limitations of the system. Also, WaterALLOC allows the creation and simulation of operation of reservoir systems, simulating water supply and power generation operations. The new robust modeling platform offers a streamlined solution for data management between the models, the ability to perform comprehensive water balance analysis that includes water infrastructure operation rules, water allocation priorities, and administrative and social constraints. Additionally, the platform supports scenario management allowing the simulation and analysis of dynamic changes to land cover, water demands, population, surface and groundwater interactions, and climate. WaterALLOC Approach Provide a comparison table of the features, applications (from poster) WaterALLOC builds upon two existing modeling tools, HydroBID and MODSIM with the purpose of enhancing the ability and effectiveness in providing streamlined and comprehensive solutions for water resources management around the world. WaterALLOC brings together the hydrologic simulation capabilities from HydroBID and the river basin simulation capabilities from MODSIM to support water resources planning and management. HydroBID MODSIM Function Rainfall-runoff processes modeling River basin operation and planning modeling Description Highly scalable rainfall-runoff modeling system model based on the generalized Watershed Loading Factor (GWLF) formulation to estimate the availability of surface water (stream flows) at the regional, basin, and sub-basin scales. Generic river basin management decision-support system capable of simulating complex, large-scale surface water networks; excels in the area of administering water in systems governed by water rights, administrative constraints, and agreements. Features Includes the Analytical Hydrography Dataset for Latin America and the Caribbean (LAC AHD), a digital representation of more than 300,000 catchments with their corresponding topography, river, and stream segments Includes a GIS-based catchments and streams navigation tool Provides a climate data interpolation interface to obtain rainfall and temperature inputs for the area and period of interest Includes a routing scheme for quantifying time of travel and cumulative flow estimates Additional modules: Simulates the effect of climate change Simulate the effect of reservoirs on downstream flows Link with MODFLOW groundwater models to incorporate water exchanges between groundwater and surface water Model sediment loads using Modified Universal Soil Loss Equations Uses linear-network structure and optimization as an efficient technique to operate the system and allocate water Performs water allocation based on priorities or water rights Includes features for reservoirs operation Allows simulation of stream-aquifer interaction and operations impacts Includes customizable pre-processing, execution, and post processing Distribution Publicly available Publicly available Developer RTI International Colorado State University WaterALLOC Key Features Provides a GIS interface to visualize the catchments, streamlines, MODSIM network and results Uses the AHD geo-spatial features to create the MODSIM network Allows a full map of the stream network or a simplified network Allows launch and run HydroBID and MODSIM from the same interface Allows to perform watershed analysis (similar to the AHD Navigation Tool in QGIS) Imports the output from HydroBID into the MODSIM network Prepares the MODSIM network with HydroBID settings for a ready to run model Allows visualizing the HydroBID output spatially in the map Allows access to the MODSIM objects, functionalities, and outputs Allows creating new features to complete the water allocation analysis (demands and reservoirs) Provides statistical metrics and graphs to calibrate the model Provides a hydro-economic module to conduct cost-benefit analysis Provides a scenario management structure to address \u201cwhat if\u201d questions and develop and compare scenarios with different assumptions WaterALLOC Development RTI has provided primary support for WaterALLOC development. Provide brief description of projects where WaterALLOC has been applied. Since 2017, RTI has provided primary support for WaterALLOC development through Independent Research and Development (IR&D) Projects. Also, client-driven improvement and software customization has been conducted on project-based cases funded by the Inter-American Development Bank (IDB). Since its initial development, WaterALLOC has been applied successfully in several countries in the Latin American and Caribbean Region (LAC) to simulate complex hydrological systems, to support long-term planning, and provide a framework for integrated water resources management. Year Country Client Status Description 2018 Peru IDB Invest/ Danper S.A.C. Completed Assess water optimization activities for the Peruvian agro-industry company Danper S.A.C. located in Trujillo, Peru. Develop a water balance model to simulate the water supply and demand in the basins where Danper\u2019s agricultural and industrial productions are located. Assess impact on the water balance considering water demand and climate variability to better understand the risk and vulnerability associated with Danper\u2019s operations in the context of climate change. Provide a cost-benefit analysis on alternative technologies that can help mitigate water shortages and optimize the use of water. Identify green infrastructure measures focused on water collection and water storage that could be implemented in areas facing water security issues. 2018 Chile IDB/Fundaci\u00f3n Chile Completed Evaluate the impact of climate change on future water balance for the Maule basin. 2019 Brazil IDB/ ADASA/ANA/ CAESB/SEAGRI Completed Support the analysis of water supply planning for the Federal District (FD) by understanding and reducing its vulnerability to severe droughts, and by increasing the efficiency in the allocation of available water resources among different competing users, while providing a decision support tool for water resources management and water allocation. Illustrate the application of hydro-economic tools for determining efficient resource allocation and analyzing tradeoffs among competing water uses in a selected study area. 2020 Honduras IDB/ UGASAM- SANAA/ENEE Completed Analyze the current and future conditions of water availability and scarcity for the city of Tegucigalpa in Honduras in a context of climate change, and to analyze potential water sources and different management strategies to reduce the current water deficit that faces the capital city. 2020 Peru IDB/SEDAPAL Ongoing Support the development of a system for the planning and integrated management of the basins that supply water to the Metropolitan Area of Lima (AML), which will seek to minimize the environmental, economic, and social impacts due to drought events. 2020 Colombia IDB Ongoing Develop technical capacities and apply HydroBID and WaterALLOC management tools to support the formulation of Water Safety Plans for four water utilities under the IDB\u2019s COMPASS program. 2020 Chile IDB Ongoing Support the development of a Drought Management Plan (DMP) for the Maipo basin that will pursue to minimize the environmental, economic, and social impacts of drought episodes. 2021 El Salvador IDB Coming soon WaterALLOC Software Installation Explanation of the installation files and license agreement. WaterALLOC is distributed at no cost to our clients. To install WaterALLOC, copy the installation files into a folder and run the installer by double clicking the setup.exe file and then click on Install in the prompt window. When installation has completed successfully, you can open the program by searching for WaterALLOC in the Start menu of Windows and then clicking on the program icon . RTI provides a free license to use the software for non-commercial purposes. The license is granted for 30 days and it is automatically renewed with an Internet connection every 30 days. WaterALLOC runs in Microsoft Windows computers with a minimum of XX RAM capacity and an Internet connection is not required. Note: Although it is not required to install MODSIM in your computer, several versions of MODSIM are also distributed within the program installation files. Having MODSIM installed can be useful for editing complex networks. HydroBID and MODSIM Modeling Tools Provide brief description of HydroBID and MODSIM and include links to documentation. To get started, we suggest getting familiarized with some key concepts about HydroBID and MODSIM: HydroBID AHD COMID Land use and soil type default databases CDIT Calibration parameters Settings file The HydroBID modeling system for quantitative simulation of hydrology and climate change has three primary components: the Analytical Hydrography Dataset (AHD) , the database , and the hydrologic model . AHD The AHD is a digital representation of catchment boundaries and stream segments for the entire LAC region, containing over 300,000 catchments with an average size of 83 km 2 for South America and 23 km 2 for Central America and the Caribbean. The AHD is a regional platform of spatial data used to integrate the disparate data needed to support hydrologic modeling. It provides a framework for consistently parameterizing models, provides the necessary river network connectivity, and stores the data necessary for displaying results in a GIS format. COMID Each of the catchments and stream segments delineated in the AHD has a unique identifier number known as COMID , which allows to quickly identify the basins and rivers that drain at a certain point within the extension of the AHD (Add Reference to Technical Note 1). AHD Flow Table HydroBID includes a table containing the upstream/downstream relationship between each stream or each catchment. The table with this information is the AHD flow table (AHDFlow.dbf). This table allows the navigation of the AHD using GIS tools. Database The database contains information associated with each catchment, including drainage area, stream length, slope, land uses, and soil types. Additionally, each catchment in the AHD is parametrized with land use and soil type data from global datasets. The land cover data is based on the U.S. Geological Survey (USGS) Global Land Characterization and the soil type data is based on the Harmonized World Soil Database (HWSD) supported by the International Institute for Applied Systems Analysis (IIASA) and the Food and Agriculture Organization (FAO). The catchment\u2019s soil and land cover conditions determine the Curve Number (CN) and the hydrologic soil group that the model uses to calculate runoff. All the input data for HydroBID is stored in a single SQLite database. Hydrologic Model The hydrologic model is an enhanced version of the rainfall-runoff Generalized Watershed Loading Function (GWLF) model (Haith and Shoemaker, 1987), coupled with a novel lag-routing methodology developed by RTI (Moreda et al., 2014). The model computes runoff and baseflow by catchment. The GWLF estimates runoff using the U.S. Soil Conservation Service\u2019s curve number (CN) method. Catchment CNs are stored in the database and are determined by the watershed\u2019s combination of soil and land cover conditions, which are represented as hydrologic soil groups, cover type, treatment, and hydrologic condition. After runoff estimates, excess precipitation infiltrates to the unsaturated layer where it is subject to evaporation. Over time, the infiltrated water percolates from the unsaturated layer downward to replenish the saturated storage. Water within the saturated layer enters the stream channel as baseflow where it combines with runoff from the catchment and any inflows from the upstream catchments to provide the stream flow volume, which is then routed through the stream network defined by the AHD (Add Reference to Technical Note 2). Climate Data Interpolation Tool A preprocessor referred to as the Climate Data Interpolation Tool ( CDIT ), built into the HydroBID modeling system, automates spatial interpolation of daily temperature and precipitation time series between stations. The tool uses the Inverse Distance Weighting (IDW) method to interpolate climate data at the centroid of each catchment. Outputs HydroBID can simulate stream flows in unimpaired watersheds for historic, current, and future conditions based on land use, precipitation, and temperature inputs. Model outputs of predicted streamflow are saved in readily usable, comma separated value (.csv) format, at either a daily or monthly time step. The system has a graphical user interface (GUI) to facilitate loading and processing of model input, as well as to display both graphical and tabulated model output. The hydrologic model utilizes the data structure and the catchment and stream network topologies of the AHD to generate flow estimates at the outlet of any catchment or basin selected by the user. In addition to flow generation, HydroBID includes other modules for 1) reservoir simulation, 2) sediment transport, and 3) surface and groundwater interactions using MODFLOW. Calibration Parameters HydroBID contains several calibration parameters that are used to adapt the model and optimize its performance simulating observed streamflows. HydroBID provides default values for some of the hydrologic parameters in the database. For instance, the database contains values for the CN and for AWC in the vadose zone. However, these parameters need to be calibrated to historical streamflow measurements by modifying a factor that multiplies the values already contained in the database. For other parameters, such as the recession (r) and seepage (s) coefficients, the user needs to enter the initial values that will be applied uniformly to all catchments within the simulated area. Settings File HydroBID saves all the setting parameters provided in the GUI into a text file (.txt). This setting file allows an identical re-run of the model at any time in the future. When open HydroBID, the GUI will be automatically populated with the values in the setting file, and all required data for a model run will be obtained from the current folder. MODSIM Describe the elements in MODSIM network (types of nodes, links) and Priorities. MODSIM, developed by the Colorado State University, is a decision-making support system that uses optimization in a stream network to help watershed managers with the analysis of water supply in the face of hydrological uncertainty and demand growth ( http://modsim.engr.colostate.edu/ ). As a decision support system, MODSIM is designed for developing improved strategies for short-term water management, long-term operational planning, drought contingency planning, water rights analysis and water allocation between urban, agricultural, and environmental sectors (Labadie, 2012). The model uses the concept of flow networks to efficiently simulate complex water systems at river basin scale. One of the advantages of MODSIM is that it can be customized for any unique basin management conditions, specialized operating rules, input data, output reports, and access to external models running concurrently with MODSIM, all without having to modify the original MODSIM source code. In addition, RTI holds a collaboration agreement to support the maintenance and development of MODSIM and provide our clients with enhanced and long-term support. Below are some of the key MODSIM capabilities. Labadie, 2012 has a complete list of the software capabilities. Network Flow Optimization The basic solver in MODSIM is a state-of-the-art network flow optimization algorithm that is more than an order of magnitude faster than solvers currently in use in other river basin modeling packages and capable of modeling extremely large-scale networks. The optimization of stream network provides an efficient way assuring allocation of flow in accordance with specified rights and priorities. Data-driven Model MODSIM maintains complete reliance on user input data and specifications for describing system features, operational requirements, and priorities, which are separated from the network modeling algorithmic structure. No a priori defined operating policies or priorities hardwired into MODSIM. Long-term Planning to Real-time Operations MODSIM is applicable to long term planning (monthly), medium term management (weekly), and short term operations (daily) in river systems. Complex River Basin Configurations Complex network topologies can be constructed, including looped and bifurcating flow paths. Network topology is graphically created by simple point and click actions on the GUI palette. In addition, georeferenced network topologies can be loaded into MODSIM from a geographic information system (GIS). Reservoir Operations and Hydropower Generation Reservoir balancing routines are included, allowing division of reservoir storage into several operational zones for controlling the spatial distribution of available storage in a river basin. Hydropower generation capacity and energy production is based on power plant efficiencies varying with discharge and head. Energy production calculations are performed, with consideration of tailwater effects and head-dependent hydraulic capacity restrictions on reservoir discharge. Conjunctive Use MODSIM includes modeling capabilities for conjunctive use of surface water and groundwater and simulation of stream-aquifer interactions. A stream aquifer model based on the USGS sdf approach is included, as well possible linkage with external groundwater models. Water Rights and Storage Contracts MODSIM is capable of directly incorporating institutional structures governing water allocation under direct flow or natural streamflow rights and seasonal storage rights and contracts, including provisions for allocating water according to specified priorities based on current river basin conditions Customized MODSIM Users are provided access to all key variables and object classes in MODSIM, thereby allowing customization for any complex river basin operational and modeling constructs without the need for reprogramming and recompiling the MODSIM source code. Custom code can be developed for defining complex operating rules and policies, executing external modules such as water quality models, input of specialized data sets for particular applications, preparing customized model output and reports, and linking MODSIM with database management systems to provide access to timely data and forecast information for real-time river basin management. The physical water resource systems are represented as a network of nodes, both storage (i.e., reservoirs) and non-storage (i.e., stream confluences, diversion points, ad demand locations), and links (i.e., canals, natural river reaches). Features and Functionalities WaterALLOC GUI Provide description of: Main menu, Toolbar options, Map window, Legend, Configuration settings, Coordinate scaling, Log messages, Scenario analysis tree, Data entry dialogs, Results windows. The WaterALLOC interface consist of a map window to visualize the physical features of the study area and the MODSIM network elements; a main menu at the top, providing access to HydroBID and MODSIM functionalities; a toolbar menu that provides one-click access to various GIS and other program functions; a log messages window that records all the actions performed by the user and also shows error messages; a configuration settings window that is used to set the configurations of a WaterALLOC project and allows access to scenario management and view; and a layer explorer panel shown in the left side of the interface that allows to hide/show all layers available and to customize their properties. Main Menu: The main menu provides access to the most important functions of WaterALLOC. File: Allows to create a new WaterALLOC project, open an existing project, and save changes made to a project. Options : Allows to switch between English and Spanish languages and to activate WaterALLOC modules, such as the hydro-economic module . View : Allows to activate the different windows of the WaterALLOC interface. HydroBID : Allows to access the HydroBID simulation to set the configurations of the model run (i.e., sqlite, climate data, observed streamflow files, calibration parameters, etc.) and view the results. Also, allows access to the create MODSIM network and import HydroBID output windows. MODSIM : Allows access to MODSIM network settings and to run the model. Tools : Allows to import a layer from a comma separated value (.csv) file. About : Includes the license agreement and the WaterALLOC version. Toolbar Menu: The toolbar menu provides access to some GIS functions and MODSIM available elements. This Icon Is Used to: Add layers to the map Move the map to progressively display adjacent areas Select objects displayed in the map window. To select an object, make sure to select the layer in the Layer Explorer Panel on the left. Zoom in the map Zoom out the map Zoom to the previous extent Zoom to the next extent Zoom to maximum extent Zoom to coordinates Identifies features of the selected object in the map Show the attribute table of selected layer. Also allows to query the selection of features Select label Enable/disable basemap Select local inflows Enable/disable MODSIM layers Demand Node. Add consumptive demands (i.e., agricultural, domestic, groundwater pumping). Demand nodes can also be added by importing a shapefile or a .csv file Reservoir Node. Add reservoirs for modeling reservoir storage operations and hydropower generation Nonstorage Node. Simulate catchment runoff, which are imported from the outputs of HydroBID. Add tributary inflows, water transfers, groundwater return flows Sink Node. Basin outlet Link. Add maximum and minimum flow, stream channel losses Remove MODSIM nodes and links Stop editing mode Configuration Settings Window: The settings window provides the absolute or relative paths to the configuration files of a WaterALLOC project and scenarios. It is divided in three main tabs: General tab shows the absolute path to the workspace and allows to select the flowline layer. Hydro-BID tab shows the relative paths to the HydroBID .jar (executable) file, the AHD Flow table , and to the settings file . Note : When creating a WaterALLOC project (.waprj), a HydroBID folder is automatically created in the same workspace, which includes HydroBID executables and a WALLOCFiles subfolder that organizes outputs files of HydroBID runs for different scenarios. Also, a folder for the Default scenario and its respective settings file is automatically created. MODSIM tab allows access to an existing MODSIM network file or allows to create a new .xy file. It also allows to modify the coordinate scaling factors, which are used to adjust the MODSIM network to the GIS interface. The configuration settings window also allows to hide/show the scenarios management panel. See Section 6 for more information about the scenario management. Layer Explorer Panel: All layers added to a WaterALLOC project will be displayed in the layer panel on the left. The panel helps manage the display order of map layers and their symbology and set other properties of each map layer. Layers listed at the top are displayed first, followed by the layers below them. A layer\u2019s attribute information can be accessed by clicking the attribute table icon ( ) or the Identifier icon ( ) in the toolbar menu. When creating a WaterALLOc project, the MODSIM Network layers and the Online Basemap are automatically loaded to the panel. These layers should not be removed. Use the check box to the left of each layer to turn it on or off. Right-click on the layer to zoom to layer, export all or selected features, set labels, and access the Properties dialog window to change the symbology. HydroBID Simulation HydroBID is a stand alone program written in Java, but can be launched and run through the WaterALLOC GUI\u2026.. HydroBID folder Set inflow points WaterALLOC allows to set inflow points through the GIS interface. Explain and provide an example of what runoff is represented at each node. HydroBID simulation Describe the watershed analysis feature Inflow points file generated by WaterALLOC Measure flow file Run options Difference between \u201cLaunch GUI\u201d and \u201cExecute\u201d Review of output folder for HydroBID simulations Create MODSIM network Explain the difference between creating a MODSIM network with \u201cOnly inflow points\u201d vs \u201cAll catchments\u201d and when is best to use each of these options. Explain when to use the \u201cAppend to existing network\u201d and what would be overwritten if re-generated. Import HydroBID output Explain what results are available to be imported (this is tied to the active scenario). Explain what type of results are imported when running HydroBID with inflow points vs. all catchments. Explain the \u201cImport groundwater seepage\u201d feature. Describe what weather variables are imported to the WaterALLOC database and how the user can import different set of weather variables for each scenario and for all or selected COMIDs. Describe what output variables can be imported for spatial display Describe the default preferences set in MODSIM when HydroBID outputs are imported. MODSIM Module Creating MODSIM Networks There are different ways to create MODSIM networks to work with WaterALLOC: (1) using the HydroBiD AHD, (2) using a shapefile with unique identifiers, and (3) loading a previously created MODSIM network. Using a Shapefile General requirements Unique ID field (e.g., COMID) Drainage Area The drainage area information is stored in the project database in a table called \u201cwateralloc_runoffSupp\u201d. This table is associated with each scenario and contains the MODSIM GUID associated with the element originally created and the associated drainage area. Set MODSIM elements Demands through WaterALLOC data entry dialogs Domestic Explain basic data requirements Explain theory and methods to calculate domestic demands using data input through WaterALLOC dialogs With hydrologic states Agriculture Explain basic data requirements Explain difference between \u201cuser defined\u201d and \u201ccrop based\u201d. Describe the default values distributed with WaterALLOC and how user can change or import more Use of precipitation for net irrigation requirement Explain theory and methods to calculate agriculture demands using data input through WaterALLOC dialogs With hydrologic states Other options to add demands Provide a brief explanation and link to MODSIM documentation Explain the feature \u201cSet demands from waterALLOC demands table\u201d and when to use it Explain the feature \u201cRe-calculate all demands from Sqlite DB\u201d and when to use it Reservoirs Explain basic data requirements Other water supply (Nonstorage nodes not included in the AHD) Delete MODSIM elements Set priorities Provide a brief explanation of how priorities work in MODSIM. Provide an example and links to MODSIM documentation. Run MODSIM Explain how to adjust network settings Explain the difference between Standard run and Hydroeconomics run Hydro-economics Module Provide intro to this module and general capabilities. Use Brasilia report to extract information. Agricultural sector Provide explanation of the theory and equations used to calculate economic benefits for agricultural sector Explain user input requirements through the WaterALLOC dialogs Municipal sector Provide explanation of the theory and equations used to calculate economic benefits for municipal sector Explain user input requirements through the WaterALLOC dialogs Hydropower sector Provide explanation of the theory and equations used to calculate economic benefits for hydropower sector Cost-benefit analysis Explain how the CBA is performed in WaterALLOC Explain all elements and components of the economic summary dashboard Operation Optimization Module Provide intro to this module and general capabilities. Place holder for now. Scenarios Management Allows set of multiple scenarios for \u201cwhat if\u201d simulations. Variables that are associated with scenarios MODSIM file HydroBID Settings file Flow Line Layer Describe the new scenario options Independent with no data Independent with snapshot of the seed Dependent of the seed Note: The Flow Line Layer for the new scenario is selected based on the MODISM file base scenario. Output Visualization Explain the different options to explore results (graphs and tables). Provide link to MODSIM documentation. Explain the option to compare measured vs. simulated flows and statistical metrics to calibrate the models. References Help & FAQ Contact US Appendix A Project Database The WaterALLOC project file (*.waprj) is an database in SQLite format. The database stores information related to: Project Info Data Scenarios Info Scenarios Demand Variables HydroBID imported timeseries variables MMS Info The main database tables in the project database are referenced in","title":"Main"},{"location":"main/#table-of-contents","text":"1. Introduction 2 1.1. WaterALLOC Approach 2 1.2. Key Features 2 2. WaterALLOC Development 2 3. WaterALLOC Interface 2 4. Getting Started 2 4.1. WaterALLOC Installation 2 4.2. HydroBID 3 4.3. MODSIM 3 5. Core Modules 3 5.1. HydroBID Module 3 5.2. MODSIM Module 4 5.3. Hydro-economics Module 4 5.4. Operation Optimization Module 5 6. Scenarios Management 5 7. Results 5 8. References 5 9. Help & FAQ 5 10. Contact US 5","title":"Table of Contents"},{"location":"main/#introduction","text":"Description of what is WaterALLOC and motivation for its development. Mutual complement of HydroBID and MODSIM WaterALLOC is a modeling management system that provides a new geographic information system (GIS)-based interface that streamline the data processing between HydroBID and MODSIM models, offering a solution to perform water availability analysis, including river and reservoir operations with simulation of water permits and priorities, using all the river operations tools and customization provided by MODSIM. WaterALLOC was created to enhance the user experience for both, HydroBID and MODSIM users, allowing the HydroBID user to use the GIS interface to run the system and adding easy-to-use input dialogs for agricultural and municipal demands for MODSIM. Additionally, his tool creates the MODSIM simulation network automatically from the Analytical Hydrology Dataset ( AHD ) network built for HydroBID, using the catchments and streams to define the links and nodes of the MODSIM network. WaterALLOC links the results of local runoff from HydroBID to the entry nodes of MODSIM to simulate the routing of the flows in the streams of a basin. Georeferenced demand nodes can be created within the WaterALLOC interface to simulate water intake and consumption according to water availability at different points of the basin and in accordance with the permits, priorities, and physical and hydraulic limitations of the system. Also, WaterALLOC allows the creation and simulation of operation of reservoir systems, simulating water supply and power generation operations. The new robust modeling platform offers a streamlined solution for data management between the models, the ability to perform comprehensive water balance analysis that includes water infrastructure operation rules, water allocation priorities, and administrative and social constraints. Additionally, the platform supports scenario management allowing the simulation and analysis of dynamic changes to land cover, water demands, population, surface and groundwater interactions, and climate.","title":"Introduction"},{"location":"main/#wateralloc-approach","text":"Provide a comparison table of the features, applications (from poster) WaterALLOC builds upon two existing modeling tools, HydroBID and MODSIM with the purpose of enhancing the ability and effectiveness in providing streamlined and comprehensive solutions for water resources management around the world. WaterALLOC brings together the hydrologic simulation capabilities from HydroBID and the river basin simulation capabilities from MODSIM to support water resources planning and management. HydroBID MODSIM Function Rainfall-runoff processes modeling River basin operation and planning modeling Description Highly scalable rainfall-runoff modeling system model based on the generalized Watershed Loading Factor (GWLF) formulation to estimate the availability of surface water (stream flows) at the regional, basin, and sub-basin scales. Generic river basin management decision-support system capable of simulating complex, large-scale surface water networks; excels in the area of administering water in systems governed by water rights, administrative constraints, and agreements. Features Includes the Analytical Hydrography Dataset for Latin America and the Caribbean (LAC AHD), a digital representation of more than 300,000 catchments with their corresponding topography, river, and stream segments Includes a GIS-based catchments and streams navigation tool Provides a climate data interpolation interface to obtain rainfall and temperature inputs for the area and period of interest Includes a routing scheme for quantifying time of travel and cumulative flow estimates Additional modules: Simulates the effect of climate change Simulate the effect of reservoirs on downstream flows Link with MODFLOW groundwater models to incorporate water exchanges between groundwater and surface water Model sediment loads using Modified Universal Soil Loss Equations Uses linear-network structure and optimization as an efficient technique to operate the system and allocate water Performs water allocation based on priorities or water rights Includes features for reservoirs operation Allows simulation of stream-aquifer interaction and operations impacts Includes customizable pre-processing, execution, and post processing Distribution Publicly available Publicly available Developer RTI International Colorado State University","title":"WaterALLOC Approach"},{"location":"main/#wateralloc-key-features","text":"Provides a GIS interface to visualize the catchments, streamlines, MODSIM network and results Uses the AHD geo-spatial features to create the MODSIM network Allows a full map of the stream network or a simplified network Allows launch and run HydroBID and MODSIM from the same interface Allows to perform watershed analysis (similar to the AHD Navigation Tool in QGIS) Imports the output from HydroBID into the MODSIM network Prepares the MODSIM network with HydroBID settings for a ready to run model Allows visualizing the HydroBID output spatially in the map Allows access to the MODSIM objects, functionalities, and outputs Allows creating new features to complete the water allocation analysis (demands and reservoirs) Provides statistical metrics and graphs to calibrate the model Provides a hydro-economic module to conduct cost-benefit analysis Provides a scenario management structure to address \u201cwhat if\u201d questions and develop and compare scenarios with different assumptions","title":"WaterALLOC Key Features"},{"location":"main/#wateralloc-development","text":"RTI has provided primary support for WaterALLOC development. Provide brief description of projects where WaterALLOC has been applied. Since 2017, RTI has provided primary support for WaterALLOC development through Independent Research and Development (IR&D) Projects. Also, client-driven improvement and software customization has been conducted on project-based cases funded by the Inter-American Development Bank (IDB). Since its initial development, WaterALLOC has been applied successfully in several countries in the Latin American and Caribbean Region (LAC) to simulate complex hydrological systems, to support long-term planning, and provide a framework for integrated water resources management. Year Country Client Status Description 2018 Peru IDB Invest/ Danper S.A.C. Completed Assess water optimization activities for the Peruvian agro-industry company Danper S.A.C. located in Trujillo, Peru. Develop a water balance model to simulate the water supply and demand in the basins where Danper\u2019s agricultural and industrial productions are located. Assess impact on the water balance considering water demand and climate variability to better understand the risk and vulnerability associated with Danper\u2019s operations in the context of climate change. Provide a cost-benefit analysis on alternative technologies that can help mitigate water shortages and optimize the use of water. Identify green infrastructure measures focused on water collection and water storage that could be implemented in areas facing water security issues. 2018 Chile IDB/Fundaci\u00f3n Chile Completed Evaluate the impact of climate change on future water balance for the Maule basin. 2019 Brazil IDB/ ADASA/ANA/ CAESB/SEAGRI Completed Support the analysis of water supply planning for the Federal District (FD) by understanding and reducing its vulnerability to severe droughts, and by increasing the efficiency in the allocation of available water resources among different competing users, while providing a decision support tool for water resources management and water allocation. Illustrate the application of hydro-economic tools for determining efficient resource allocation and analyzing tradeoffs among competing water uses in a selected study area. 2020 Honduras IDB/ UGASAM- SANAA/ENEE Completed Analyze the current and future conditions of water availability and scarcity for the city of Tegucigalpa in Honduras in a context of climate change, and to analyze potential water sources and different management strategies to reduce the current water deficit that faces the capital city. 2020 Peru IDB/SEDAPAL Ongoing Support the development of a system for the planning and integrated management of the basins that supply water to the Metropolitan Area of Lima (AML), which will seek to minimize the environmental, economic, and social impacts due to drought events. 2020 Colombia IDB Ongoing Develop technical capacities and apply HydroBID and WaterALLOC management tools to support the formulation of Water Safety Plans for four water utilities under the IDB\u2019s COMPASS program. 2020 Chile IDB Ongoing Support the development of a Drought Management Plan (DMP) for the Maipo basin that will pursue to minimize the environmental, economic, and social impacts of drought episodes. 2021 El Salvador IDB Coming soon","title":"WaterALLOC Development"},{"location":"main/#wateralloc-software-installation","text":"Explanation of the installation files and license agreement. WaterALLOC is distributed at no cost to our clients. To install WaterALLOC, copy the installation files into a folder and run the installer by double clicking the setup.exe file and then click on Install in the prompt window. When installation has completed successfully, you can open the program by searching for WaterALLOC in the Start menu of Windows and then clicking on the program icon . RTI provides a free license to use the software for non-commercial purposes. The license is granted for 30 days and it is automatically renewed with an Internet connection every 30 days. WaterALLOC runs in Microsoft Windows computers with a minimum of XX RAM capacity and an Internet connection is not required. Note: Although it is not required to install MODSIM in your computer, several versions of MODSIM are also distributed within the program installation files. Having MODSIM installed can be useful for editing complex networks.","title":"WaterALLOC Software Installation"},{"location":"main/#hydrobid-and-modsim-modeling-tools","text":"Provide brief description of HydroBID and MODSIM and include links to documentation. To get started, we suggest getting familiarized with some key concepts about HydroBID and MODSIM:","title":"HydroBID and MODSIM Modeling Tools"},{"location":"main/#hydrobid","text":"AHD COMID Land use and soil type default databases CDIT Calibration parameters Settings file The HydroBID modeling system for quantitative simulation of hydrology and climate change has three primary components: the Analytical Hydrography Dataset (AHD) , the database , and the hydrologic model .","title":"HydroBID"},{"location":"main/#ahd","text":"The AHD is a digital representation of catchment boundaries and stream segments for the entire LAC region, containing over 300,000 catchments with an average size of 83 km 2 for South America and 23 km 2 for Central America and the Caribbean. The AHD is a regional platform of spatial data used to integrate the disparate data needed to support hydrologic modeling. It provides a framework for consistently parameterizing models, provides the necessary river network connectivity, and stores the data necessary for displaying results in a GIS format.","title":"AHD"},{"location":"main/#comid","text":"Each of the catchments and stream segments delineated in the AHD has a unique identifier number known as COMID , which allows to quickly identify the basins and rivers that drain at a certain point within the extension of the AHD (Add Reference to Technical Note 1).","title":"COMID"},{"location":"main/#ahd-flow-table","text":"HydroBID includes a table containing the upstream/downstream relationship between each stream or each catchment. The table with this information is the AHD flow table (AHDFlow.dbf). This table allows the navigation of the AHD using GIS tools.","title":"AHD Flow Table"},{"location":"main/#database","text":"The database contains information associated with each catchment, including drainage area, stream length, slope, land uses, and soil types. Additionally, each catchment in the AHD is parametrized with land use and soil type data from global datasets. The land cover data is based on the U.S. Geological Survey (USGS) Global Land Characterization and the soil type data is based on the Harmonized World Soil Database (HWSD) supported by the International Institute for Applied Systems Analysis (IIASA) and the Food and Agriculture Organization (FAO). The catchment\u2019s soil and land cover conditions determine the Curve Number (CN) and the hydrologic soil group that the model uses to calculate runoff. All the input data for HydroBID is stored in a single SQLite database.","title":"Database"},{"location":"main/#hydrologic-model","text":"The hydrologic model is an enhanced version of the rainfall-runoff Generalized Watershed Loading Function (GWLF) model (Haith and Shoemaker, 1987), coupled with a novel lag-routing methodology developed by RTI (Moreda et al., 2014). The model computes runoff and baseflow by catchment. The GWLF estimates runoff using the U.S. Soil Conservation Service\u2019s curve number (CN) method. Catchment CNs are stored in the database and are determined by the watershed\u2019s combination of soil and land cover conditions, which are represented as hydrologic soil groups, cover type, treatment, and hydrologic condition. After runoff estimates, excess precipitation infiltrates to the unsaturated layer where it is subject to evaporation. Over time, the infiltrated water percolates from the unsaturated layer downward to replenish the saturated storage. Water within the saturated layer enters the stream channel as baseflow where it combines with runoff from the catchment and any inflows from the upstream catchments to provide the stream flow volume, which is then routed through the stream network defined by the AHD (Add Reference to Technical Note 2).","title":"Hydrologic Model"},{"location":"main/#climate-data-interpolation-tool","text":"A preprocessor referred to as the Climate Data Interpolation Tool ( CDIT ), built into the HydroBID modeling system, automates spatial interpolation of daily temperature and precipitation time series between stations. The tool uses the Inverse Distance Weighting (IDW) method to interpolate climate data at the centroid of each catchment.","title":"Climate Data Interpolation Tool"},{"location":"main/#outputs","text":"HydroBID can simulate stream flows in unimpaired watersheds for historic, current, and future conditions based on land use, precipitation, and temperature inputs. Model outputs of predicted streamflow are saved in readily usable, comma separated value (.csv) format, at either a daily or monthly time step. The system has a graphical user interface (GUI) to facilitate loading and processing of model input, as well as to display both graphical and tabulated model output. The hydrologic model utilizes the data structure and the catchment and stream network topologies of the AHD to generate flow estimates at the outlet of any catchment or basin selected by the user. In addition to flow generation, HydroBID includes other modules for 1) reservoir simulation, 2) sediment transport, and 3) surface and groundwater interactions using MODFLOW.","title":"Outputs"},{"location":"main/#calibration-parameters","text":"HydroBID contains several calibration parameters that are used to adapt the model and optimize its performance simulating observed streamflows. HydroBID provides default values for some of the hydrologic parameters in the database. For instance, the database contains values for the CN and for AWC in the vadose zone. However, these parameters need to be calibrated to historical streamflow measurements by modifying a factor that multiplies the values already contained in the database. For other parameters, such as the recession (r) and seepage (s) coefficients, the user needs to enter the initial values that will be applied uniformly to all catchments within the simulated area.","title":"Calibration Parameters"},{"location":"main/#settings-file","text":"HydroBID saves all the setting parameters provided in the GUI into a text file (.txt). This setting file allows an identical re-run of the model at any time in the future. When open HydroBID, the GUI will be automatically populated with the values in the setting file, and all required data for a model run will be obtained from the current folder.","title":"Settings File"},{"location":"main/#modsim","text":"Describe the elements in MODSIM network (types of nodes, links) and Priorities. MODSIM, developed by the Colorado State University, is a decision-making support system that uses optimization in a stream network to help watershed managers with the analysis of water supply in the face of hydrological uncertainty and demand growth ( http://modsim.engr.colostate.edu/ ). As a decision support system, MODSIM is designed for developing improved strategies for short-term water management, long-term operational planning, drought contingency planning, water rights analysis and water allocation between urban, agricultural, and environmental sectors (Labadie, 2012). The model uses the concept of flow networks to efficiently simulate complex water systems at river basin scale. One of the advantages of MODSIM is that it can be customized for any unique basin management conditions, specialized operating rules, input data, output reports, and access to external models running concurrently with MODSIM, all without having to modify the original MODSIM source code. In addition, RTI holds a collaboration agreement to support the maintenance and development of MODSIM and provide our clients with enhanced and long-term support. Below are some of the key MODSIM capabilities. Labadie, 2012 has a complete list of the software capabilities.","title":"MODSIM"},{"location":"main/#network-flow-optimization","text":"The basic solver in MODSIM is a state-of-the-art network flow optimization algorithm that is more than an order of magnitude faster than solvers currently in use in other river basin modeling packages and capable of modeling extremely large-scale networks. The optimization of stream network provides an efficient way assuring allocation of flow in accordance with specified rights and priorities.","title":"Network Flow Optimization"},{"location":"main/#data-driven-model","text":"MODSIM maintains complete reliance on user input data and specifications for describing system features, operational requirements, and priorities, which are separated from the network modeling algorithmic structure. No a priori defined operating policies or priorities hardwired into MODSIM.","title":"Data-driven Model"},{"location":"main/#long-term-planning-to-real-time-operations","text":"MODSIM is applicable to long term planning (monthly), medium term management (weekly), and short term operations (daily) in river systems.","title":"Long-term Planning to Real-time Operations"},{"location":"main/#complex-river-basin-configurations","text":"Complex network topologies can be constructed, including looped and bifurcating flow paths. Network topology is graphically created by simple point and click actions on the GUI palette. In addition, georeferenced network topologies can be loaded into MODSIM from a geographic information system (GIS).","title":"Complex River Basin Configurations"},{"location":"main/#reservoir-operations-and-hydropower-generation","text":"Reservoir balancing routines are included, allowing division of reservoir storage into several operational zones for controlling the spatial distribution of available storage in a river basin. Hydropower generation capacity and energy production is based on power plant efficiencies varying with discharge and head. Energy production calculations are performed, with consideration of tailwater effects and head-dependent hydraulic capacity restrictions on reservoir discharge.","title":"Reservoir Operations and Hydropower Generation"},{"location":"main/#conjunctive-use","text":"MODSIM includes modeling capabilities for conjunctive use of surface water and groundwater and simulation of stream-aquifer interactions. A stream aquifer model based on the USGS sdf approach is included, as well possible linkage with external groundwater models.","title":"Conjunctive Use"},{"location":"main/#water-rights-and-storage-contracts","text":"MODSIM is capable of directly incorporating institutional structures governing water allocation under direct flow or natural streamflow rights and seasonal storage rights and contracts, including provisions for allocating water according to specified priorities based on current river basin conditions","title":"Water Rights and Storage Contracts"},{"location":"main/#customized-modsim","text":"Users are provided access to all key variables and object classes in MODSIM, thereby allowing customization for any complex river basin operational and modeling constructs without the need for reprogramming and recompiling the MODSIM source code. Custom code can be developed for defining complex operating rules and policies, executing external modules such as water quality models, input of specialized data sets for particular applications, preparing customized model output and reports, and linking MODSIM with database management systems to provide access to timely data and forecast information for real-time river basin management. The physical water resource systems are represented as a network of nodes, both storage (i.e., reservoirs) and non-storage (i.e., stream confluences, diversion points, ad demand locations), and links (i.e., canals, natural river reaches).","title":"Customized MODSIM"},{"location":"main/#features-and-functionalities","text":"","title":"Features and Functionalities"},{"location":"main/#wateralloc-gui","text":"Provide description of: Main menu, Toolbar options, Map window, Legend, Configuration settings, Coordinate scaling, Log messages, Scenario analysis tree, Data entry dialogs, Results windows. The WaterALLOC interface consist of a map window to visualize the physical features of the study area and the MODSIM network elements; a main menu at the top, providing access to HydroBID and MODSIM functionalities; a toolbar menu that provides one-click access to various GIS and other program functions; a log messages window that records all the actions performed by the user and also shows error messages; a configuration settings window that is used to set the configurations of a WaterALLOC project and allows access to scenario management and view; and a layer explorer panel shown in the left side of the interface that allows to hide/show all layers available and to customize their properties. Main Menu: The main menu provides access to the most important functions of WaterALLOC. File: Allows to create a new WaterALLOC project, open an existing project, and save changes made to a project. Options : Allows to switch between English and Spanish languages and to activate WaterALLOC modules, such as the hydro-economic module . View : Allows to activate the different windows of the WaterALLOC interface. HydroBID : Allows to access the HydroBID simulation to set the configurations of the model run (i.e., sqlite, climate data, observed streamflow files, calibration parameters, etc.) and view the results. Also, allows access to the create MODSIM network and import HydroBID output windows. MODSIM : Allows access to MODSIM network settings and to run the model. Tools : Allows to import a layer from a comma separated value (.csv) file. About : Includes the license agreement and the WaterALLOC version. Toolbar Menu: The toolbar menu provides access to some GIS functions and MODSIM available elements. This Icon Is Used to: Add layers to the map Move the map to progressively display adjacent areas Select objects displayed in the map window. To select an object, make sure to select the layer in the Layer Explorer Panel on the left. Zoom in the map Zoom out the map Zoom to the previous extent Zoom to the next extent Zoom to maximum extent Zoom to coordinates Identifies features of the selected object in the map Show the attribute table of selected layer. Also allows to query the selection of features Select label Enable/disable basemap Select local inflows Enable/disable MODSIM layers Demand Node. Add consumptive demands (i.e., agricultural, domestic, groundwater pumping). Demand nodes can also be added by importing a shapefile or a .csv file Reservoir Node. Add reservoirs for modeling reservoir storage operations and hydropower generation Nonstorage Node. Simulate catchment runoff, which are imported from the outputs of HydroBID. Add tributary inflows, water transfers, groundwater return flows Sink Node. Basin outlet Link. Add maximum and minimum flow, stream channel losses Remove MODSIM nodes and links Stop editing mode Configuration Settings Window: The settings window provides the absolute or relative paths to the configuration files of a WaterALLOC project and scenarios. It is divided in three main tabs: General tab shows the absolute path to the workspace and allows to select the flowline layer. Hydro-BID tab shows the relative paths to the HydroBID .jar (executable) file, the AHD Flow table , and to the settings file . Note : When creating a WaterALLOC project (.waprj), a HydroBID folder is automatically created in the same workspace, which includes HydroBID executables and a WALLOCFiles subfolder that organizes outputs files of HydroBID runs for different scenarios. Also, a folder for the Default scenario and its respective settings file is automatically created. MODSIM tab allows access to an existing MODSIM network file or allows to create a new .xy file. It also allows to modify the coordinate scaling factors, which are used to adjust the MODSIM network to the GIS interface. The configuration settings window also allows to hide/show the scenarios management panel. See Section 6 for more information about the scenario management. Layer Explorer Panel: All layers added to a WaterALLOC project will be displayed in the layer panel on the left. The panel helps manage the display order of map layers and their symbology and set other properties of each map layer. Layers listed at the top are displayed first, followed by the layers below them. A layer\u2019s attribute information can be accessed by clicking the attribute table icon ( ) or the Identifier icon ( ) in the toolbar menu. When creating a WaterALLOc project, the MODSIM Network layers and the Online Basemap are automatically loaded to the panel. These layers should not be removed. Use the check box to the left of each layer to turn it on or off. Right-click on the layer to zoom to layer, export all or selected features, set labels, and access the Properties dialog window to change the symbology.","title":"WaterALLOC GUI"},{"location":"main/#hydrobid-simulation","text":"HydroBID is a stand alone program written in Java, but can be launched and run through the WaterALLOC GUI\u2026..","title":"HydroBID Simulation"},{"location":"main/#hydrobid-folder","text":"","title":"HydroBID folder"},{"location":"main/#set-inflow-points","text":"WaterALLOC allows to set inflow points through the GIS interface. Explain and provide an example of what runoff is represented at each node.","title":"Set inflow points"},{"location":"main/#hydrobid-simulation_1","text":"Describe the watershed analysis feature Inflow points file generated by WaterALLOC Measure flow file Run options Difference between \u201cLaunch GUI\u201d and \u201cExecute\u201d Review of output folder for HydroBID simulations","title":"HydroBID simulation"},{"location":"main/#create-modsim-network","text":"Explain the difference between creating a MODSIM network with \u201cOnly inflow points\u201d vs \u201cAll catchments\u201d and when is best to use each of these options. Explain when to use the \u201cAppend to existing network\u201d and what would be overwritten if re-generated.","title":"Create MODSIM network"},{"location":"main/#import-hydrobid-output","text":"Explain what results are available to be imported (this is tied to the active scenario). Explain what type of results are imported when running HydroBID with inflow points vs. all catchments. Explain the \u201cImport groundwater seepage\u201d feature. Describe what weather variables are imported to the WaterALLOC database and how the user can import different set of weather variables for each scenario and for all or selected COMIDs. Describe what output variables can be imported for spatial display Describe the default preferences set in MODSIM when HydroBID outputs are imported.","title":"Import HydroBID output"},{"location":"main/#modsim-module","text":"","title":"MODSIM Module"},{"location":"main/#creating-modsim-networks","text":"There are different ways to create MODSIM networks to work with WaterALLOC: (1) using the HydroBiD AHD, (2) using a shapefile with unique identifiers, and (3) loading a previously created MODSIM network.","title":"Creating MODSIM Networks"},{"location":"main/#using-a-shapefile","text":"General requirements Unique ID field (e.g., COMID) Drainage Area The drainage area information is stored in the project database in a table called \u201cwateralloc_runoffSupp\u201d. This table is associated with each scenario and contains the MODSIM GUID associated with the element originally created and the associated drainage area.","title":"Using a Shapefile"},{"location":"main/#set-modsim-elements","text":"Demands through WaterALLOC data entry dialogs Domestic Explain basic data requirements Explain theory and methods to calculate domestic demands using data input through WaterALLOC dialogs With hydrologic states Agriculture Explain basic data requirements Explain difference between \u201cuser defined\u201d and \u201ccrop based\u201d. Describe the default values distributed with WaterALLOC and how user can change or import more Use of precipitation for net irrigation requirement Explain theory and methods to calculate agriculture demands using data input through WaterALLOC dialogs With hydrologic states Other options to add demands Provide a brief explanation and link to MODSIM documentation Explain the feature \u201cSet demands from waterALLOC demands table\u201d and when to use it Explain the feature \u201cRe-calculate all demands from Sqlite DB\u201d and when to use it Reservoirs Explain basic data requirements Other water supply (Nonstorage nodes not included in the AHD) Delete MODSIM elements","title":"Set MODSIM elements"},{"location":"main/#set-priorities","text":"Provide a brief explanation of how priorities work in MODSIM. Provide an example and links to MODSIM documentation.","title":"Set priorities"},{"location":"main/#run-modsim","text":"Explain how to adjust network settings Explain the difference between Standard run and Hydroeconomics run","title":"Run MODSIM"},{"location":"main/#hydro-economics-module","text":"Provide intro to this module and general capabilities. Use Brasilia report to extract information.","title":"Hydro-economics Module"},{"location":"main/#agricultural-sector","text":"Provide explanation of the theory and equations used to calculate economic benefits for agricultural sector Explain user input requirements through the WaterALLOC dialogs","title":"Agricultural sector"},{"location":"main/#municipal-sector","text":"Provide explanation of the theory and equations used to calculate economic benefits for municipal sector Explain user input requirements through the WaterALLOC dialogs","title":"Municipal sector"},{"location":"main/#hydropower-sector","text":"Provide explanation of the theory and equations used to calculate economic benefits for hydropower sector","title":"Hydropower sector"},{"location":"main/#cost-benefit-analysis","text":"Explain how the CBA is performed in WaterALLOC Explain all elements and components of the economic summary dashboard","title":"Cost-benefit analysis"},{"location":"main/#operation-optimization-module","text":"Provide intro to this module and general capabilities. Place holder for now.","title":"Operation Optimization Module"},{"location":"main/#scenarios-management","text":"Allows set of multiple scenarios for \u201cwhat if\u201d simulations. Variables that are associated with scenarios MODSIM file HydroBID Settings file Flow Line Layer Describe the new scenario options Independent with no data Independent with snapshot of the seed Dependent of the seed Note: The Flow Line Layer for the new scenario is selected based on the MODISM file base scenario.","title":"Scenarios Management"},{"location":"main/#output-visualization","text":"Explain the different options to explore results (graphs and tables). Provide link to MODSIM documentation. Explain the option to compare measured vs. simulated flows and statistical metrics to calibrate the models.","title":"Output Visualization"},{"location":"main/#references","text":"","title":"References"},{"location":"main/#help-faq","text":"","title":"Help &amp; FAQ"},{"location":"main/#contact-us","text":"Appendix A","title":"Contact US"},{"location":"main/#project-database","text":"The WaterALLOC project file (*.waprj) is an database in SQLite format. The database stores information related to: Project Info Data Scenarios Info Scenarios Demand Variables HydroBID imported timeseries variables MMS Info The main database tables in the project database are referenced in","title":"Project Database"},{"location":"Modules/HydroRAM/HydroBID_Main/","text":"HydroBID in WaterALLOC This is a new version.","title":"HydroBID in WaterALLOC"},{"location":"Modules/HydroRAM/HydroBID_Main/#hydrobid-in-wateralloc","text":"This is a new version.","title":"HydroBID in WaterALLOC"},{"location":"Modules/MODSIM/MODSIMModule/","text":"MODSIM Module Set MODSIM elements Demands through WaterALLOC data entry dialogs Domestic Explain basic data requirements Explain theory and methods to calculate domestic demands using data input through WaterALLOC dialogs With hydrologic states Agriculture Explain basic data requirements Explain difference between \u201cuser defined\u201d and \u201ccrop based\u201d. Describe the default values distributed with WaterALLOC and how user can change or import more Use of precipitation for net irrigation requirement Explain theory and methods to calculate agriculture demands using data input through WaterALLOC dialogs With hydrologic states Other options to add demands Provide a brief explanation and link to MODSIM documentation Explain the feature \u201cSet demands from waterALLOC demands table\u201d and when to use it Explain the feature \u201cRe-calculate all demands from Sqlite DB\u201d and when to use it Reservoirs Explain basic data requirements Other water supply (Nonstorage nodes not included in the AHD) Tools Import Reservoir from Shapefile Delete MODSIM elements Set priorities Provide a brief explanation of how priorities work in MODSIM. Provide an example and links to MODSIM documentation. Run MODSIM Explain how to adjust network settings Explain the difference between Standard run and Hydroeconomics run Network Tools Simplifying Network General Tools Timeseries Import","title":"MODSIM"},{"location":"Modules/MODSIM/MODSIMModule/#modsim-module","text":"Set MODSIM elements Demands through WaterALLOC data entry dialogs Domestic Explain basic data requirements Explain theory and methods to calculate domestic demands using data input through WaterALLOC dialogs With hydrologic states Agriculture Explain basic data requirements Explain difference between \u201cuser defined\u201d and \u201ccrop based\u201d. Describe the default values distributed with WaterALLOC and how user can change or import more Use of precipitation for net irrigation requirement Explain theory and methods to calculate agriculture demands using data input through WaterALLOC dialogs With hydrologic states Other options to add demands Provide a brief explanation and link to MODSIM documentation Explain the feature \u201cSet demands from waterALLOC demands table\u201d and when to use it Explain the feature \u201cRe-calculate all demands from Sqlite DB\u201d and when to use it","title":"MODSIM Module"},{"location":"Modules/MODSIM/MODSIMModule/#reservoirs","text":"Explain basic data requirements Other water supply (Nonstorage nodes not included in the AHD)","title":"Reservoirs"},{"location":"Modules/MODSIM/MODSIMModule/#tools","text":"Import Reservoir from Shapefile Delete MODSIM elements Set priorities Provide a brief explanation of how priorities work in MODSIM. Provide an example and links to MODSIM documentation. Run MODSIM Explain how to adjust network settings Explain the difference between Standard run and Hydroeconomics run","title":"Tools"},{"location":"Modules/MODSIM/MODSIMModule/#network-tools","text":"Simplifying Network","title":"Network Tools"},{"location":"Modules/MODSIM/MODSIMModule/#general-tools","text":"Timeseries Import","title":"General Tools"},{"location":"Modules/MODSIM/ResShapefImport/","text":"Import Reservoirs from Shapefile Input Requiremient Shapefile Points with the general location of the reservoir Attributes - Name - GUID - Reservoir Capacity - Power Capacity - Max. Surface Area - Max Depth User Interface User will be prompted to browse to select the shapefile file Import User Dialog The attribute mapping tree allows selecting the shapefile field to import into the different MODSIM attributes. 3. Calibration Strucutures Option Description Set Calibration Structures Creates calibration structures around the identified gage links. This includes a sink node (Local Losses) and a source at the downstream end Set Sources at Upstream Nodes It finds non-storage nodes that don't have any links coming in and creates a source structure (Source and sink), connected with a link which names starts with \"LocalGains_\" + the name of the downstream gage + name of the node connecting to Map Coordinate factor This factor is used to set the distance of the calibration structures to the network. Algorithm For each point, the closest node is found based on the straight distance using the x and y coordinates. The nodes which name start with \"Calib\" are not considered, so that reservoirs are not attached to calibration structures. Connecting the Reservoir Node There are two options: 1. Closest Node If the user select the option to connect the reservoir, the reservoir accrual is connected from the closest node and the outflow link to the next downstream node. Exceptions: * If the bypass link is flagged with 'measured' time series * if there are no outflow links from the closest node In these cases the outflow link is connected to the closest and the accrual is connected to the next upstream node. Defined Node This option requires the name of the node to be connected specified in a attribute field of the shapefile.","title":"Import Reservoirs from Shapefile"},{"location":"Modules/MODSIM/ResShapefImport/#import-reservoirs-from-shapefile","text":"Input Requiremient Shapefile Points with the general location of the reservoir Attributes - Name - GUID - Reservoir Capacity - Power Capacity - Max. Surface Area - Max Depth","title":"Import Reservoirs from Shapefile"},{"location":"Modules/MODSIM/ResShapefImport/#user-interface","text":"User will be prompted to browse to select the shapefile file Import User Dialog The attribute mapping tree allows selecting the shapefile field to import into the different MODSIM attributes. 3. Calibration Strucutures Option Description Set Calibration Structures Creates calibration structures around the identified gage links. This includes a sink node (Local Losses) and a source at the downstream end Set Sources at Upstream Nodes It finds non-storage nodes that don't have any links coming in and creates a source structure (Source and sink), connected with a link which names starts with \"LocalGains_\" + the name of the downstream gage + name of the node connecting to Map Coordinate factor This factor is used to set the distance of the calibration structures to the network.","title":"User Interface"},{"location":"Modules/MODSIM/ResShapefImport/#algorithm","text":"For each point, the closest node is found based on the straight distance using the x and y coordinates. The nodes which name start with \"Calib\" are not considered, so that reservoirs are not attached to calibration structures.","title":"Algorithm"},{"location":"Modules/MODSIM/ResShapefImport/#connecting-the-reservoir-node","text":"There are two options: 1. Closest Node If the user select the option to connect the reservoir, the reservoir accrual is connected from the closest node and the outflow link to the next downstream node. Exceptions: * If the bypass link is flagged with 'measured' time series * if there are no outflow links from the closest node In these cases the outflow link is connected to the closest and the accrual is connected to the next upstream node. Defined Node This option requires the name of the node to be connected specified in a attribute field of the shapefile.","title":"Connecting the Reservoir Node"},{"location":"Modules/MODSIM/SimplyfyingNetwork/","text":"Network Simplification Tool","title":"Network Simplification Tool"},{"location":"Modules/MODSIM/SimplyfyingNetwork/#network-simplification-tool","text":"","title":"Network Simplification Tool"},{"location":"Modules/MODSIM/TimeseriesImport/","text":"Time Series Import Tool MODSIM -> Import MODSIM Timeseries This tool allows importing multiple time series to MODSIM from a comma separated file (CSV file). The file headers format allow flexibility in importing different time series types in different units to different MODSIM objects. File Format The csv file separate values with commas. The first row should include: * The first two columns contain the Start Date and the End Date , which corresponds to the start date and end date of period for which the data is provided. The MODSIM time series use the start date as time stamp of the interval. The exception is the storage targets that corresponds to the end of the period. * Name of the MODSIM objects separated by commas. Start Date, End Date, Object Names .... This first row is used to find the MODSIM objects, i.e., links or nodes. The name should match the name of the object in the model. The date format is MM/dd/YYYY The default time series for the different model object are: Additional Information This additional information define the type of time series to be imported for the object and the units. 1. The second row can contain the MODSIM variable names of the time series. The allowed variable names are: Variable Object Description adaTargetsM Reservoir Storage target time series. This time series is imported using the End Date . adaInflowsM Non-Storage Inflow time series adaEvaporationsM Reservoir Net evaporation rate time series (units of depth per time step). This time series is a decimal type, so it is imported without the accuracy factor. adaDemandsM Demand Water demand time series maxVariable Link Link capacity time series adaMeasured Link Measured flow time series adaForecastsM Reservoir Forecasted inflow to the reservoir adaGeneratingHrsM Reservoir Hydropower generating hours time series (units of hours) adaInfiltrationsM Demand fraction of the demand that infiltrates to the ground time series These variables names are case sensitive. They are imported into the model using the active accuracy factor in the MODSIM model, i.e., the values are multiplied by 10^accuracy for the interal time series. 2. The third row contains the units of the time series. The units labels accepted by MODSIM are: Unit Type Options English System Options Metric System Time seconds minutes hours days weeks months years Volume acre-ft 10\u00b3 acre-ft ft\u00b3 10\u2076gal 1000 m\u00b3 10\u2076m\u00b3 m\u00b3 Area acres 10\u00b3 acres ft\u00b2 1000 m\u00b2 10\u2076m\u00b2 m\u00b2 Length ft in m cm mm Energy MWh kWh GWh BTU kJ MJ GJ > NOTE >* Dates should start at the data start date >* Missing values should be filled with 0 or -999 for missing measured values Information the user should notice even if skimming. >* The import process allows blanks and converts them to 0. >* Measured flows should have a negative value when data is missing. Negatives values will be imported into the MODSIM time series. Example The following csv imports different time series to different objects. The objects have to already exist in the network. Start Date,End Date,BARGI,Ret.Flow,BARGI,Left_Bank,Right_Bank,Power_Releases,Channel10_BargiRelease,LocalGains_Bargi ,,adaTargetsM,adaInflowsM,adaEvaporationsM,adaDemandsM,adaDemandsM,maxVariable,maxVariable,adaMeasured ,,1000 m\u00b3,1000 m\u00b3/10 days,mm/week,1000 m\u00b3/10 days,1000 m\u00b3/10 days,1000 m\u00b3/10 days,1000 m\u00b3/10 days,1000 m\u00b3/10 days 1/1/2000 0:00,1/11/2000 0:00,2407437.2,53,13.101,10710,0,197001.3,0,95363.9 1/11/2000 0:00,1/21/2000 0:00,2264751.3,45,16.875,10770,0,172497.2,0,47096.7 1/21/2000 0:00,2/1/2000 0:00,2120169.6,59,34.85757576,10490,0,188551.5,0,61001 2/1/2000 0:00,2/11/2000 0:00,2015278.7,60,19.21,10010,0,111172.5,0,21883.6 2/11/2000 0:00,2/21/2000 0:00,1914685.3,65,18.269,18100,0,106669,0,29523.5 2/21/2000 0:00,3/1/2000 0:00,1846549.2,94,31.67333333,8490,0,101058.5,0,46826.2 The example csv can be opened/saved in MS-Excel the file organized in colums is as follows:","title":"TimeseriesImport"},{"location":"Modules/MODSIM/TimeseriesImport/#time-series-import-tool","text":"MODSIM -> Import MODSIM Timeseries This tool allows importing multiple time series to MODSIM from a comma separated file (CSV file). The file headers format allow flexibility in importing different time series types in different units to different MODSIM objects.","title":"Time Series Import Tool"},{"location":"Modules/MODSIM/TimeseriesImport/#file-format","text":"The csv file separate values with commas. The first row should include: * The first two columns contain the Start Date and the End Date , which corresponds to the start date and end date of period for which the data is provided. The MODSIM time series use the start date as time stamp of the interval. The exception is the storage targets that corresponds to the end of the period. * Name of the MODSIM objects separated by commas. Start Date, End Date, Object Names .... This first row is used to find the MODSIM objects, i.e., links or nodes. The name should match the name of the object in the model. The date format is MM/dd/YYYY The default time series for the different model object are:","title":"File Format"},{"location":"Modules/MODSIM/TimeseriesImport/#additional-information","text":"This additional information define the type of time series to be imported for the object and the units. 1. The second row can contain the MODSIM variable names of the time series. The allowed variable names are: Variable Object Description adaTargetsM Reservoir Storage target time series. This time series is imported using the End Date . adaInflowsM Non-Storage Inflow time series adaEvaporationsM Reservoir Net evaporation rate time series (units of depth per time step). This time series is a decimal type, so it is imported without the accuracy factor. adaDemandsM Demand Water demand time series maxVariable Link Link capacity time series adaMeasured Link Measured flow time series adaForecastsM Reservoir Forecasted inflow to the reservoir adaGeneratingHrsM Reservoir Hydropower generating hours time series (units of hours) adaInfiltrationsM Demand fraction of the demand that infiltrates to the ground time series These variables names are case sensitive. They are imported into the model using the active accuracy factor in the MODSIM model, i.e., the values are multiplied by 10^accuracy for the interal time series. 2. The third row contains the units of the time series. The units labels accepted by MODSIM are: Unit Type Options English System Options Metric System Time seconds minutes hours days weeks months years Volume acre-ft 10\u00b3 acre-ft ft\u00b3 10\u2076gal 1000 m\u00b3 10\u2076m\u00b3 m\u00b3 Area acres 10\u00b3 acres ft\u00b2 1000 m\u00b2 10\u2076m\u00b2 m\u00b2 Length ft in m cm mm Energy MWh kWh GWh BTU kJ MJ GJ > NOTE >* Dates should start at the data start date >* Missing values should be filled with 0 or -999 for missing measured values Information the user should notice even if skimming. >* The import process allows blanks and converts them to 0. >* Measured flows should have a negative value when data is missing. Negatives values will be imported into the MODSIM time series.","title":"Additional Information"},{"location":"Modules/MODSIM/TimeseriesImport/#example","text":"The following csv imports different time series to different objects. The objects have to already exist in the network. Start Date,End Date,BARGI,Ret.Flow,BARGI,Left_Bank,Right_Bank,Power_Releases,Channel10_BargiRelease,LocalGains_Bargi ,,adaTargetsM,adaInflowsM,adaEvaporationsM,adaDemandsM,adaDemandsM,maxVariable,maxVariable,adaMeasured ,,1000 m\u00b3,1000 m\u00b3/10 days,mm/week,1000 m\u00b3/10 days,1000 m\u00b3/10 days,1000 m\u00b3/10 days,1000 m\u00b3/10 days,1000 m\u00b3/10 days 1/1/2000 0:00,1/11/2000 0:00,2407437.2,53,13.101,10710,0,197001.3,0,95363.9 1/11/2000 0:00,1/21/2000 0:00,2264751.3,45,16.875,10770,0,172497.2,0,47096.7 1/21/2000 0:00,2/1/2000 0:00,2120169.6,59,34.85757576,10490,0,188551.5,0,61001 2/1/2000 0:00,2/11/2000 0:00,2015278.7,60,19.21,10010,0,111172.5,0,21883.6 2/11/2000 0:00,2/21/2000 0:00,1914685.3,65,18.269,18100,0,106669,0,29523.5 2/21/2000 0:00,3/1/2000 0:00,1846549.2,94,31.67333333,8490,0,101058.5,0,46826.2 The example csv can be opened/saved in MS-Excel the file organized in colums is as follows:","title":"Example"}]}